<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Complexity_Economics</title>
    <link href="/2024/04/12/complex-economics/"/>
    <url>/2024/04/12/complex-economics/</url>
    
    <content type="html"><![CDATA[<p>网上看到一篇文章，虽然时间有点久，但是非常的有意思。故转载 ，<a href="http://economics.efnchina.com/show-2206-33315-1.html">原文</a></p><h1>哈耶克经济理论中的复杂性和系统科学思想</h1><blockquote><p>主讲人：刘业进</p><p>评议人：马永翔 王军 葛飞 扬帆 茅于轼</p></blockquote><p>茅于轼：今天我们有请刘博士来讲这个课题，大家有特别高的兴趣。按照我们的惯例呢，你的发言大概一个小时，不要超过一个半小时，就是到三点，最晚不超过三点半。后面我们有三位评论老师，我们总的活动呢，争取四点半结束，今天因为是周末了，要结束不了的话，也不能超过五点，那下面我们请刘业进老师作发言。</p><p>各位老师下午好，非常荣幸接受天则所的邀请。感谢张曙光老师和天则所所有同仁提供这样一个机会，来汇报《哈耶克经济理论中的复杂性和系统科学思想》。让我来做这个报告不一定是最合适的人选，我知道国内做哈耶克思想研究做得好的有很多。天则所给我这个机会也是一份荣誉，我争取把它做好。</p><p>我今天讲的就是哈耶克经济理论中，或者叫经济理论背后的复杂性科学或系统科学思想渊源。哈耶克思想的关键词是“自由”、“市场”、“传统”，以及对这些东西的呵护。很多人从政治学的视角，从经济学的视角，从道德哲学等不同的角度都给予了非常深入的阐释。在我的阅读中，我发现中文世界对哈耶克自然科学思想，特别是复杂性科学和系统科学思想的提炼、挖掘还是相对的缺乏，所以选择了这个题目。</p><p>下面，我这个报告分为四个部分。</p><p>第一部分，主要是讲一下哈耶克所说的社会科学中的事实不同于自然科学中的物理化学事实。</p><p>第二，讲从感觉的秩序到复杂适应系统，这里涉及到对还原主义的一个置疑。</p><p>第三，讲作为复杂现象的经济系统。</p><p>第四，总结一下一般行为的遵循规则与秩序的涌现。</p><h3 id="引言：哈耶克的自发扩展秩序">引言：哈耶克的自发扩展秩序</h3><p>哈耶克在他最后一本书《致命的自负》中阐释扩展秩序的时候，曾经发出了这样的感叹，这也一再被人们引用的，即“我们的文明已经被误导的称为资本主义，其实应该是叫做扩展秩序。”哈耶克写这书的起点，可以用休谟的话来说，“我们的道德准则并不是我们理性的结果，理性是生活在道德和情感的海洋中而起作用的”。哈耶克在最后一本书，或者他终生落脚的这个问题，我把它归结为对一个经济秩序的论证，而且这个经济秩序，及时我们不能说“历史终结”于市场经济，但是到目前为止，市场经济或者市场秩序肯定是一个美好制度不可缺少的部分，对这个秩序的维护十分紧迫。哈耶克感到只有资本主义在利用分散的知识方面具有更加优越的能力，然而我们的强烈的本能和理性主义冲动又有颠覆这种制度的危险，所以我们要重述或者强调对这个经济秩序的研究，来维系和发展这种自发的扩展秩序。</p><p>那么，如果我们把它归结为自由传统秩序，我们要是归根究底来问哈耶克的话，他终生要维护的、呵护的自由和自由市场的终极理由在哪里？当然我们可以从哲学的角度讲，比如说罗尔斯在“无知之幕”假设下，我们同意把自由作为第一优先准则提出来（然后词典式排列地再讲第二个原则），这是所谓的罗尔斯第一正义原则。这里的理由是，因为在“无知之幕”假说下，我们逻辑地同意自由优先。但是，哈耶克的探索不是从罗尔斯那个哲学角度论证的，他的背后有复杂性科学和系统论的证据，我个人对这方面感兴趣，我认为自由的最终证据可以在这个里面寻找到。</p><p>其实哈耶克自己也非常明确地说了，他的自由的最终证据在复杂性和系统科学中，不仅如此，在别的，在生物学中也逐渐在成长这种思想。那么哈耶克的这种复杂性和系统理论思想，是众多理论中的一个。但是他应该说也是一个比较原创性的，他的一个远房亲戚叫贝特朗菲，当时也在发展一般系统论。哈耶克感叹到，“我当时从事这种自我维持秩序，也就是自组织的经济秩序这种高度复杂的进化形式方面的研究是孤军奋战”。其实在他写《感觉的秩序》，写《个人主义与经济秩序》，《法、立法与自由》，即在19４0、１９５０、１９７０年代，在他做这个经济秩序研究的同时，也有人在研究各种自发秩序。对此，哈耶克提到自发生成论，控制论，自组织协同论、系统论等等，这些研究跟他的研究在同时推进。</p><h3 id="哈耶克的三个理论渊源">哈耶克的三个理论渊源</h3><p>好，接下来我就转入我的报告的绪论部分。</p><p>哈耶克是自发秩序不遗余力的阐释者，他的背后理论渊源有三个。一个就是苏格兰道德哲学传统。在他的书里面，洛克、佛格森、曼德维尔、斯密、孟德斯鸠、休谟、柏克、托克维尔、阿克顿这些人反复出现在他的著作中。这是他的一个思想渊源，苏格兰道德哲学被他继承下来了。第二个是奥地利学派传统，他本身就作为一个第二代传人的领袖人物。第三个我们就是系统论和复杂性科学。哈耶克在1950年前后的一系列著作：《感觉的秩序》、《复杂的现象论》、《解释的限度》、《社会科学的事实》《法、立法与自由》部分章节和《科学的反革命》，这一系列的文章里面，我们都发现他受到自然科学的一些进展的影响，从他的引证著作来观察，有大量关于心理学、物理学、生物学、脑神经科学和系统科学的文献出现其中。</p><p>其中一个思想渊源：哈耶克的复杂性、系统科学思想</p><p>“翻译”和解读哈耶克经济学理论背后的复杂性科学思想，我们不打算按照编年史的顺序罗列，而是按照事后理解的逻辑顺序来整理。其实，在中文世界里面，像汪丁丁、韦森、马永翔等，还有邓正来，都做过哈耶克思想的创造性的解读或阐释，他们是从经济学、哲学、法学等等不同的角度，这里主要是从复杂性和系统科学的角度来解释。我们认为，哈耶克思想涉及到复杂系统理论，他是经济学家中对复杂系统中“涌现”现象的先知先觉者，最早具有这种探索的勇气和意识，他早期的关于《感觉的秩序》那本专著，对脑神经，这种中枢神经系统的研究作为一种引喻（脑神经系统是复杂系统，经济系统也是与此类似的复杂系统），一直贯穿到他终生对经济系统的研究。脑神经是一个非常复杂的适应系统，而经济系统也是一种复杂适应系统，只是用的地方不一样，后来他的经济学研究背后一直有《感觉的秩序》这本书的影子在里面。</p><p>目前在英文文献里面，关于哈耶克的经济学中的复杂性，或者说复杂系统理论与经济学联姻的这种研究其实是发展非常快的，现在有J. Barkley Rosser编的“经济学中复杂性”丛书，有好几卷，就在Mark Blaug编的一个经济学丛书里面。英文文献已经走在很前面了，包括对哈耶克的解释、哈耶克的研究，以及经济学中的复杂性，这个经济学的分支也走得很快了，只是我们国内这方面的翻译工作还没跟上。<br>经济学中的复杂性研究不是哈耶克的专利。这个经济学分支本身发展也很快了。当前复杂性科学，特别是复杂适应系统的发展已经能够使哈耶克的自发秩序理论，这种典型的复杂适应系统涌现思想拿到系统理论之光下得到更好的阐释。以前我们读哈耶克的“自发秩序理论”的时候，总觉得是雾中看花，搞不明白，其实如果是拿到复杂适应系统理论这个理论之光的照耀下，就更加明白。在《法、立法与自由》中，哈耶克自己也承认为了阐述经济的自发秩序思想而生造词语，且没有一以贯之地在后面的著作中使用，而当时的自组织、控制论、系统论等研究的有关核心概念能更清晰地表述自发秩序的思想。</p><h3 id="社会科学中的事实不同于物理化学事实">社会科学中的事实不同于物理化学事实</h3><p>第一部分，我讲一下“社会科学中的事实不同于物理化学事实”。哈耶克在他的一本书《科学的反革命》阐述这个问题。这本书已经翻译成中文了。其中有一篇叫“唯科学主义”，他在里面就特别讲到了社会科学的事实。我们对计划经济的批判、对社会主义经济计算可能性的置疑，最终在学理上找根据，要找到根子，是把社会科学中的事实混淆于物理化学的事实。</p><p>社会科学的事实是一种关系实在。比如说货币，我们不能把它理解为印有特定图案的纸张，这样来定义货币。社会科学的事实，无论是婚姻、货币、市场、道德、价格都是一种持有共同观念的共同体中的关系实在，它具有共有观念依赖，具有隐含契约性质的。就是说它是我们的“同意”，一种契约性质的评价均衡。在社会科学领域，我们总是通过设想另外一个人跟我们共处在一个分类系统，就是亚当斯密讲的“同情共感”的方式来达到共同的理解。</p><p>那么在社会科学领域所谓的均衡就是行为者预期的一致性。哈耶克认为在人口统计、传染病传播，那种数据统计与自然科学没有二致，但是在语言、市场、法律和人类各项制度的领域，我们所讲的数据和事实跟自然科学的数据和事实是完全不同的，如果我们混淆了这种东西，就有可能导致严重后果。由此社会科学的任务不在于解释个体行为，而在于对我们可以理解的个体行为进行分类，并发展这种分类，然后把必须使用的材料有秩序地排列起来，即把元素结构成整体，从而看到秩序现象。</p><p>那么，这个社会科学的事实为什么跟自然科学事实不一样？我举个简单的例子。如何定义我们是夫妻关系？如果说特定的穿着，或者是你在一起睡觉，这些都不能恰当定义（都可以找出反例），从这种自然物理现象的角度是不能够定义夫妻的，夫妻是别人认为我们是夫妻，如果别人不认可我们，我们就不是夫妻，即便有长期固定性关系也不是夫妻。那么我们定义价格，为什么某一件东西是10块钱？那是我们共同的同意的结果。不能说一款手机值500块钱，背后有一个什么物理化学原因，没有的，有的只是一种共同的评价。</p><p>哈耶克还举了很多关于这种“社会科学事实是人们的同意”的例子，比如说“玩耍”，“工作”，脸色的“友善”、“恐怖”，这些事物的物理性质与社会科学研究都没有关系。那么自然科学本身对人与物的关系，以及人们现有的世界观所导致他们的行动方式都不感兴趣，这是科学的研究领域，科学意义上的“客观”跟社会科学的“客观”是完全不一样的。在社会科学研究中，我们要知道科学活动仍然是整个人类活动的一个子集，科学知识是人类在所谓的knowing how的知识中的一个子集，就是人类整个知识中的一个子集。科学知识在发现之前，有众多的所谓的knowing how知识在引导人类来处理自然和人类自身相互作用的不确定性。</p><p>社会科学面对和处理的是复杂现象。例如如果说我们找出那些因素决定一个产品价格是500元这个具体的量值，我们要写出很多方程，要引入很多变量，这种变量的数目比确定某一物理或者化学量所涉及的变量和方程要多得多，从这个角度上来说它是复杂现象的。其实我们要精确地确定一组价格的话，所涉及到的变量是非常多的，以至于是不可能的。并不是说物理学和化学的研究本身不复杂。</p><p>在讲社会科学事实这种“约定性质”的时候，哈耶克还讲到了语言学的论据。语言里面的词语，就是一种约定，某事物用某词语表达，它没有物理化学上的原因。比如我们说“白”，为什么说“白”字的时候，用“白”这个的发音呢？这是语言学里面讲的，所谓能指和所指就是一种约定而已。比如说英文里面讲White也是白的意思，就是说同样的一个东西可以用不同的语音来表现，用不同的文字来表述，它纯粹是一种主观的约定。这就是社会科学事实的约定性质。那么这种语言学中的能指和所指的约定关系，可以放到经济学里面来理解，经济学所面临的对象也是一种主观约定的性质。</p><p>人类生活在一个活动网络中，生活中大多数内容都是共同拥有的知识的指导，人们所持有的观念和概念不仅是指他们对外部自然的知识，更是有关于自我、他人和有关外部世界的全部思想和信念，那么社会科学的研究是人与物、人与人之间的关系，以及处在这种关系中的行为，目的是解释许多人的行为所带来的无意的或未经设计的后果。</p><p>###　如何理解、感知社会科学的事实？</p><p>这种社会科学的事实如何去理解和感知它呢？这就是斯密在《道德情操论》里面讲的“同情共感”，在社会科学领域里面，我们总是通过设想另外一个人跟我们同处在一个共同理解的系统里面，就是同处一个共有的分类系统中。在演化经济学和生物学中，通常说用移情、同情共感，或者简单说就是共鸣，来达到对社会科学事实的理解。比如说一个语法能够被一致的理解，是因为在一个共同的语言系统，你出了这个语言系统我们就不能够有共同的理解。哈耶克指出“我们观察的人与我们的差别越大，我们能够理解的东西就越少”。但是人类作为一个共同体，他们还是有一些最一般的和抽象的观念，如果没有这些东西，我们的这种世界贸易就不可能发生。</p><p>###　社会科学的任务是构造，不是还原</p><p>第三个我就讲讲社会科学研究的主要任务是构造，而不是还原。为什么这样讲？我们生活在经济系统中，每一个人和企业是这个系统中的组成元素（组分），这个元素相互作用而形成的后果，就是我们所谓的经济秩序现象。然而，我们所能观察的是我们每一个个体，我们所直接观察不到的是我们相互作用（交易、协作）所形成的宏观后果。专业的研究者，比如说斯密，他看见了“看不见的手”；门格尔，他发出了所谓的“门格尔疑问”；哈耶克阐述“自发秩序”，他就是指出从元素的相互作用引起一个宏观的后果，看见这种相互作用的后果，这是一个从组分到系统整体的结构过程，而不是还原的过程。</p><p>但是自然科学恰恰相反，它所关注的是一个宏观的后果（比如生物体从胚胎发育成成体），而通过从这种宏观的后果往前去回溯，去还原，这是两种不同的方法论。那么哈耶克指出，社会科学的任务主要不在于解释个体行为，而在于把他们排列起来，看到他们最后的秩序。在哈耶克看来，经济中的个体都在寻求经有一定手段达致自己的特定目的。文化累积大大加长了从手段到目的的迂回链条，从迂回链条的高回报刺激中进一步拉长和优化这种链条。“手段—目的”这个链条中没有一一对应的关系，一种目的有多种手段，这个“手段—目的”的对应是多对多的，经济过程就是创造和优化无数个“手段—目的”链的过程。</p><p>哈耶克指出，从个体来结构成一个宏观的后果，我们同样没有达到一个客观事实的王国。主张计划经济的人们为什么认为其可行？他们认为我们面对的是一个客观对象，哈耶克认为主观的个人所汇集的宏观成果仍然是一个主观的世界，没有客观的历史事实，如何利用个体行为的关系和无数社会科学事实来建构整体事实，正是社会科学的任务所在。哈耶克的原话是说：这就是社会科学的全部目的。它们并不是就整体而谈社会整体，也不自称通过经验观察来发现人类行为法则，或者发现这些整体的变化。我们可以说，社会科学理论的任务是组成这些整体，并提供结构的关系体系。</p><p>这就是社会科学的全部目的。它们并不是就整体而谈社会整体，也不自称通过经验观察来发现客观规律。比如说投入产出，我们总是无限制地观察投入和产出，试图得出规律，哈耶克认为这是不可能的。人类行为法则，或者发现这些整体的变化。我们可以说，社会科学理论的任务是组成这些整体，并提供结构的关系体系。</p><p>哈耶克在1952年发表的《科学的反革命》，其中一篇文章“伪科学主义”一文中，他就讲到了“向下还原和向上结构”的问题，他认为社会科学的中心问题是基于个人的互动后果，是研究那个后果的整体秩序问题，而不是从整体向下还原的问题。基于这种社会科学的主观性质、社会科学事实的理解，和“结构”和“还原”的两分，哈耶克得出了一个这样的结论：</p><p>第一，社会科学理论研究的规则是关于行为的，社会科学的理论所有企图，不光是提供一个推理技术，它在连接个体事实方面有助于我们的理解。</p><p>第二，社会科学理论从来不能够借助于事实而被证明是正确还是谬误，我们只能对它进行一致性检验。</p><p>###　从感觉的秩序走向复杂适应系统的研究</p><p>好，接下来，我们看看哈耶克从感觉的秩序的研究走向了经济系统作为一个复杂适应系统的研究。哈耶克１９５２年的《感觉的秩序》那本书研究大脑神经网络何以秩序化现实世界。以此研究为背景和原型，他反对经济系统这种复杂现象研究中的强微观还原主义。首先我们看看他这个文献的线索。哈耶克关于演化自发秩序和复杂现象的思想，可以追溯到他早期的《感觉的秩序》。在后来的《法、立法与自由》、《科学的反革命》、《致命的自负》以及一些单独成篇的文章，后来被冯克利和邓正来各自翻译的那个文集，比如说《解释的限度》、《复杂现象论》，还有《人类行为的结果，但不是人类设计的结果》，以及《大卫•休谟的法哲学和政治哲学》、《曼德维尔大夫》，还有《致命的自负》那７个补论，在这些文章里面，哈耶克的复杂适应系统的思想都显露无疑，我们好像看到一个研究自然科学的科学家一样。</p><p>从复杂适应系统的这种思想背景出发来理解哈耶克的经济思想，就像解谜一样找到了谜底。首先我们看看《感觉的秩序》，我们知道在国内的马永翔老师曾经专门以此为蓝本研究了哈耶克的思想。1952年写了这本专著以后，其中的系统思想一直影响着哈耶克。后来哈耶克的一些经济思想、道德哲学思想和政治思想都有这个背景知识在起作用，下面我们就简单地解读一下他的《感觉的秩序》。</p><p>哈耶克认为有两种秩序，一种就是自然的秩序，一种就是我们人作为一个生物感知世界的感觉的秩序。哈耶克认为这两种秩序不是一个拍照的关系，不是拍了一个照片一样完全对应的。感觉的秩序是自然秩序的一个子集，感觉的秩序要小于自然秩序。在研究感觉的秩序的时候，哈耶克放弃了马赫的还原论，这种还原论认为感觉要素在终极意义是给定的。感觉的秩序不能一一对应于自然秩序，而它转向了一种关联主义，也就是从关系实在的角度来理解我们是如何感知这个世界的。核心论点是，“是什么”的问题只能存在一组观念中、一个秩序中才能理解。就像语言一样，语言的那些词语只有存在在一组对比中才有意义，离开了“黑”，单独“白”就没有意义，我们不知道“白”是什么意思，所有的词语都存在于一个相互关联系统中，在相互参照中才有意义，否则单一一个词语就无法理解。其实在这个方面，应该说当时的相对论的发现也有前期各种思潮的影响。比如说我们定义空间一个点的时候，你不以这个房子，不以天则所，不以任何东西为参照物，你定义一个客观存在的点是无法定义的。现在我指着这个点，你听我的叙述来找这个点，我不以任何参照物来定义，其实根本办不到。社会科学的事实也是一样的，它必须在一个关系中才有意义，那么脑神经中的记忆也必须在一个神经脉冲的相互相互参照中才有得到确定。神经中枢系统、语言系统和经济系统是同一种性质的系统，即复杂适应系统，其中，“是什么”的问题只有在一个关系系统中，在给定的秩序中才得到定义和确认。摆脱理论心理学上的还原论，区分物理性质的事件与心智事件，使哈耶克意识到“社会科学的事实”和自然科学意义上的物理事实是不同的，这一区分促使哈耶克强调社会科学与自然科学的不同，它们各自面对的对象具有根本不一样的性质。</p><p>###　从物理刺激，经由“神经效应黑箱”到心智秩序</p><p>好，那么在说明这个问题的时候，我相信马永详老师的理解应该是很深的。我来简单地说一下，对自然秩序的感知是如何进行的。这里我们从几个概念开始，一个就是物理刺激，一个就是神经脉冲，然后就是神经效应，然后到感觉的属性，最后到心智秩序，通过这么一个转化过程，我们才能认知这个眼睛和听觉所感知的这个世界。其实事物的属性远远超过我们感知的世界，比如说听，我们就不如蝙蝠，它们听的范围比我们更远，我们听到的只是一个声波中的一小段。我们看和听都只是自然界光和声波中的一部分，但是我们能够感知我们人类认为的“世界”，能够适应这个世界就可以了，我们并不要把世界的全部属性都知道清除。因为我们是一个适应性生物，我们在感知这些属性的时候是有选择的，事物的属性中我们所感知的只是一小段范围，当然科学的进展拓展了我们的感知范围。</p><p>感觉的秩序是从属于自然科学的亚系统，中枢神经系统就是帮助我们来感知物理秩序的一种分类系统，那么中枢神经系统在感知这个自然秩序的时候，就是履行了一个分类过程，神经系统就是这么一种分类装置，这个过程我们可以简单地用这么一个图来表示，首先是物理刺激，然后传到我们的神经，转化为神经脉冲，通过神经元，神经脉冲经过一个叫做“神经效应黑箱”的处理过程，就是中枢神经结构的处理过程，这个处理过程不是一个拍照的过程，也就是不是原样照搬的过程，它只要是反馈出的行动能够免于被烫伤、免于危险，能够使得我们适应地球环境即可，然后就形成了很多感觉的属性。这些属性经过组合，适应进程的反复的反馈、淘汰，那些对我们人最有利的留下来，就形成了所谓的心智秩序，这三种心智秩序，我们把它叫做“图式”、“模式”和“观念”，这种所谓的“图式”是讲的那种本能的东西，就在基因里面，例如我们碰触到高温物体就缩回，使我们人免于烫伤，再比如说人类怕蛇。在基因里面留存了很多人类的这种适应性的“知识”。“模式”呢，它时间短一点，它沉淀在我们的文化中，它也是一种适应性的东西。而“观念”呢，哈耶克说是预期未来的一种东西。那么，“模式”，我们所感觉的东西，经过文化的沉淀和当前的学习，不断地在我们的神经系统里面反馈，给它赋予不同的权重来沉淀下来，有利的（增加人类的适存度）我们就权重给重，那么有些没用的（不增加适存度）东西我们就淘汰掉，神经系统不断地在调整和强化这个东西。</p><p>心智秩序就是从物理刺激经由神经效应现象来达到。经过从物理刺激到最后的心智秩序，这是一个适应过程，不是一个拍照的过程，也就是说我们不可能在神经元中找到最初的物理刺激，因为它经过了一个所谓的“神经效应黑箱”，我们只能间接地推断它的存在。</p><p>这里重点要讲一讲神经效应这个东西，对它的理解使哈耶克拒绝了还原主义，为什么呢？因为神经效应拒绝把心智秩序还原为物理秩序，这里要从神经效应的内容和会如何形成说起。哈耶克认为一个特殊的脉冲所产生的效应的具体特征，既不取决于引起脉冲的刺激的属性，也不取决于该脉冲的自身的属性，而是传导该脉冲神经纤维在整个神经系统中的位置。许多不同的外部刺激，我们的感觉是一样的，所以我们从这种脉冲本身不能够还原出原有刺激的属性，也就是说我们的感觉不能够最终还原为物理化学的东西，我们最终所感知到的是我们的神经脉冲在整个神经网络结构中的位置和相对的权重，那么这样的位置不是空间意义的位置，而是与神经脉冲和其它脉冲的关联有关系，关系的强与弱服从于人类在环境中的适存度。就像一个词语跟别的词语的关联构成一个语义一样的。</p><p>那么根据有机体在基因、当前学习和文化三种心智秩序的建构来源，神经系统来整理物理刺激所引起的脉冲，我们所有的本能、文化和我们当前的这种所谓的知识，都是人类在适应地球环境中沉淀下来的知识，那么为什么要拒绝原子式的个人主义呢？我们可以看到，这个物理刺激我们用一个变量X，当然物理刺激有很多，听的、触觉的、整个五官的，我们用Xi来表示，神经脉冲，每一个刺激都会引起一个神经脉冲，用Yi来表示，最后的感觉神经用Zi来表示，这个X、Y、Z这三个在变量中没有一一对应的关系，人在通过适应的过程中，他把很多刺激整合在一起，来把它归类，他唯一的目的“怎么分类”，就是为了人类的适应过程，那么我们回过去的时候就不可能还原，因为他们已经通过归类来整理了。就是说在三个变量之间没有一一对应的映射关系，神经效应这个“黑箱”发生的过程不是对物理秩序的拍照，而是作为生物个人的有机体适应环境中所建立起的一套神经分类过程，这套神经分类过程具有学习功能，即为神经联结不断调整赋权重的过程，一个所谓的赋权的动力学过程。它这个赋权的过程就是学习的过程，学习的目的就在于有机体来适应环境，提高自己的适存度。毫无疑问，人类这个生物比别的生物适存度要高。</p><p>正是基于这个理解，哈耶克从1960年开始就开始对严格的原子式的方法论个人主义感到置疑和最终的放弃。</p><p>好，我们看到他这个分类过程的图。这三条不同线，这个线的粗细就表示哪一种物理刺激的组合对人的适应有特别的帮助，比如说我们现在人都怕蛇，那是因为在四五百万年的适应过程中，蛇给丛林中生活的人类造成很大的伤害，所以我们这个记忆特别明显，以至都沉淀在我们的基因里面。好，那么还有一些不同的基因，这个刺激组合都留存在我们神经系统的联结中，来成为我们的知识，或者成为我们的文化，或者成为我们基因的本能，这些都是我们的适应过程的产物。</p><p>###　走向结构主义和整体论</p><p>正是基于对中枢神经系统处理物理刺激或者物理秩序到获致我们认知的这个心智秩序的过程的理解，哈耶克就走向了所谓的结构主义和整体论，或者，如统科学就讲就是从组分相互作用涌现出来的秩序。这里稍稍对哈耶克的经济系统整体论简单地谈一谈，哈耶克反对社会科学中的孔德客观主义、华生的行为主义和纽拉特的物理学至上主义，其根据之一就是早期对神经系统分类过程的理解。哈耶克揭示的所谓分类过程，就是讲的我们利用感官和中枢神经系统把来自环境中的物理刺激按照相同和不同做出分类，这种分类来自个人经验，不是来自任何客观的检验。那么感觉的色彩、音调、味道、还有整体直觉，我们用这种方式把自然属性，把它划为不同的形态，划为不同的声调啊，几何形状或者是味觉等不同的模块，分解出来，为我们所感知。我们为什么没有把原原本本的物理秩序（就现有科学发现而言）感知呢，那是因为不同的生物演化路径和适应策略，使得我们拥有这些感知的模块就足以适应这个环境了。</p><p>使某个现象成为某一类型的事实是我们将其作为一类，加以研究而挑选出来的属性，这里的分类不仅是自然科学研究所关注的属性，而是服务于生物个体适应那些借用神经系统分类的属性。人类在观察环境时，总是以积木块进行组合的方式来完成，就是以模块的方式来完成，在这一点上跟哈耶克心有灵犀的人就是迈克尔•波兰尼。他就有类似的研究，他说我们看到一幅画的时候，我们不会观察物理意义上的色块，而是尽量地马上给它进行分类，我们会想到河流、树林和船这些东西，而且我们人类还建立起了这样的适应技巧，就是本来我们看到的是一个平面的画，但是我们能够感觉它是个立体的三围东西，这个东西是自然界不存在的，是人类的一种适应技巧，人类这种模块式感知处理过程是相当快速的。比如我们能够在一秒钟之类立刻识别熟人的面孔。其实计算机要识别人的面孔的话，是需要相当大的内存来处理的。我们的人脑是这样来处理的，比如说把头发、鼻子、眼睛，每一种都有多种类型，眼睛有不同的类型，如果有10种类型，有10个模块，那么就10的10次方，那么从10的10次方里面，你挑选出一种东西出来识别，我们以模块的方式能够快速比对来理解，说明我们大脑里面的神经处理功能是非常复杂、非常快速的。</p><p>神经系统的分类和组合功能极为强大，比如我刚才举的例子，研究复杂适应系统的霍兰就说：以人的面孔识别为例，我们人类已经建立起大量的模块识别系统。形成分类，形成积木块，所谓的积木是一个比喻，用积木块生成模型是复杂适应系统的一个普遍特征，这里的模型就是哈耶克所谓感觉秩序的三种形式中的“图式”。</p><p>人类通过中枢神经系统来识别物理秩序，在大脑中通过关联连接和“图式”这样的方式沉淀下来的东西具有不同的时间纬度的，也就是说心智秩序具有有不同的时间纬度。感觉性质由传输脉冲的联结所决定，数以亿计的联结构成的系统是物种和个体在发展过程中的某种经验和学习而获得的。它在发展中的每一个阶段，都复制来自于自然环境中的刺激引起的有助于提高生物适存度的联结/图式。这些联结以不同的方式存在、修改和更新以达到更好的适应。</p><p>神经系统有三个时间纬度来不断地建立输入和输出的联结，这些联结不断接受竞争压力的挑战，然后再反馈联结，这就是刚才我们提到的，如果某些联结构成的图东西特别有利于生物生存，本能中就有所体现。当然我们的基因本身也在变化，也在适应过程中，比如说地球温度在升高，可能将来我们能适应更高的温度的环境。</p><p>然后再就是神经元发育阶段的学习，最后一种是日常的神经键的变化，通过这三种方式来沉淀。</p><p>总之，我们的知识，我们基因中所表达的东西，我们都把它视为一种适应过程的产物，它们所沉淀下来的是适应环境的结果。</p><p>在相关的研究里面，像保罗.辛迪亚斯也有类似的研究。他认为在中枢神经系统中，记忆并不驻留在神经元之中，也就是说心智秩序是不可还原的，而驻留在神经元之间的关系中，在神经网络之间，记忆功能由神经元之间的关系的权重来执行。</p><p>为什么讲这些东西对于理解经济系统重要？例如哈耶克就说我们来寻找价格最后的科学依据是没有的，他是就是基于一种变动中的关系的理解。</p><h3 id="复杂现象与经济系统">复杂现象与经济系统</h3><p>第三个大问题，我来讲一讲作为复杂现象的经济系统。</p><p>哈耶克的学术生涯中，都伴随对复杂系统的运行机制、分层结构和涌现特征的理解。他经常用到的例子货币、市场、语言这些东西都是具有系统演化特征的。《通向奴役之路》这本书，我们一般都看它是一本完全的政治哲学著作，以至于当时芝加哥大学的经济学家都认为这不是一个严肃经济学家所写的经济著作，其实我们也可以从刚才讲的复杂适应系统的角度来理解，他其中所涉及到的复杂适应系统的认知。在这本书中，哈耶克就提到，那些中央计划经济的赞成者没有认识到未经理性设计和控制的个体互动能够产生复杂秩序，而曼德维尔、休谟、斯密和柏克这些人呢，已经早就理解到了，所以哈耶克在《通向奴役之路》中指出，自由制度的核心原则是因为安排我们的事务的时候，应该尽可能的运用自发社会力量，而尽可能的少借用强制。但是为什么有人有强烈的冲动，用工程设计思维去安排我们的社会生活和经济呢？可能是因为这种专注技术问题所产生思维习惯，不加批判的转移到社会问题上去的结果。</p><p>哈耶克进一步讲到，要警惕把科学技术研究的方法简单地应用到经济系统，甚至把它用到公共政策中去，会引起很坏的作用。他说，在经济领域，在公共政策领域，人们一直存在着一种强烈的冲动，就是取消那些能够产生不可预知后果的力量，并对一切社会力量加以集中的、有意识的指导，来达到审慎选择的目标来取代那些非人格化的匿名市场机制。而这种理解就是对复杂适应系统没有简单地理解，而根据诺斯理解，这种非人格化的匿名交易（合作）机制恰恰是文明扩张的主要线索，如果你要取消这个东西，就跟取消文明本身是没有区别。在经济领域，每一个行动个体是这个系统中的最小单元，也就是所谓的组分，是经济系统还原的最底层，而我们的观察者刚好又是人，处在这个系统的最底层，这就给我们对整个经济系统的运行及其宏观后果的理解带来很大的困难。</p><p>哈耶克认为，正是因为这种困难，我们就要听任个人在那些所谓的局部时间和地点、以时间和地点等情况为转移的、每一件事件上的个人的行动自由，就是说系统中的每一个组分根据他的局部知识（哈耶克这里的“知识”基本就是“信息”的意思）采取行动，才足以汇集成宏观有序后果，那么哈耶克在这个《通向奴隶之路》简单提到的几点与CAS理论，所谓的在简单规则遵循下，系统内个体相互作用产生秩序，这个原理是非常接近的。如果你没有认识到这一点，就会导致用科学工程思维手段来治理经济。那么这里，有两种方法论的根本分野，中央计划经济者，信奉的是用工程思维（还原的方法）来处理经济问题。那么经济学本身应该所采用的研究方法呢，我们可以这么做一个简单地对比，首先直接感知的是从一个宏观有序的宏观现象来入手的。新古典范式的经济学呢，是从个体偏好和个体理性假设来入手的。自然科学要做的是还原，把一个东西分解还原，打开研究对象，看里面的分子结构，还原到原子结构层次，那么我们就搞明白了事实。但是经济学家是从元素开始重构事实，往上回溯来建构复杂的宏观后果，建构经济整体秩序。斯密是一个伟人，他看到了“看不见的手”这种东西。自然科学的方法常常无法感知要素，要靠推测知道要素，而经济学呢，无法直接感知整体。经济中的个体感受不到亚当斯密感受到那个所谓的“看不见的手”，经济生活中的我们确实无法感知，我们永远在做自我的算计，成本收益的算计，我们永远也看不到所谓的经济整体，或者人的社会整体，我们只能靠这些专门的研究者才能知道一点点。总结一下，从方法论上讲，自然科学主要是靠还原和分析，经济学主要应该是靠综合和系统理解。</p><p>这里有一个简单的图说明一下。左边这个图，就讲这是一个系统，连接在一起，每一个圆圈是人自己，我们要观察这个系统，我们本身就在里面，所以就给我们观察这个“看不见的手”带来了困难。而右边呢，就是说观察者在外面看，我们就是要把它打开，一层层打开，打开这个方格，再打开里面的结构，科学家是站在系统外面来还原里面的东西。这是两种基本方法。当然这是讲的“主要”，也就是说经济学里面就不是完全没有分解，没有还原（例如主流范式原来不研究企业黑箱，后来则吸收企业理论）。像生物学一样，它既要还原，又要综合。主要应该是区分还原和综合这种不同的方法论的区别。</p><p>在社会科学的研究中，观察者是作为一个元素；在自然科学研究中观察者独立于观察对象，所以要清楚地感知和把握我们自己，从属于一个超越于我们自身的更高秩序是一件很不容易的事情。同时，我们用理性来感知，而理性本身不是人类适应环境的全部机制，理性存在于情感与道德、本能和传统这个海洋中而起作用。理性，与传统、情感、道德和人的本能构成了一个完整的适应体系，而一旦我们完全靠理性来感知，或过分的强调理性，就会导致对经济系统的一个错误的理解，特别是对未经设计的，组分之间相互作用所形成的这种未经设计的后果，也就是所谓“非意图后果”这样的宏观秩序这种东西的把握就难以感知。</p><p>一个经济系统里有很多企业和个体，每一个企业和个人在相互作用中都作成本收益（这里成本收益不局限于财富损益）的计算而采取行动，他们的相互作用会产生一种非线性后果。这种非线性后果，我们可以用哈耶克讲的“乡村小路模型”来理解。其实很简单，就像鲁迅讲的：“走的人多了，就形成了路”。这里我还是简单地说一说，他是如何用这个“乡村小路”来阐述所谓的非意图后果理论。我们要从A点到达B点，可以理解为要解决一个问题，也可以理解成一条路，那么我们怎么走呢？我看到很多人去探索，有X1、X2……一直到Xn，很多种探索办法，这些探索的人的探索过程相当于发现新方法和为每一种发现的方法赋予权重，比如X1的权重是w1，X2的权重是w2，然后,在这个探索的赋权过程中出现了某个相对高的权重，这种方法被赋予的权重越来越重，最后超过某个临界位，那么，这种方法就胜出，就形成了一种大家都逐渐转而去实践这种方法，这个走成的路就成了我们最终走的路，凡是复杂适应系统都有涌现现象，那么涌现出来的就是我们最终选择的那条路。这就是哈耶克在1952年在《科学的反革命》那本书里面讲的非意图后果理论一个简单的图式。</p><p>哈耶克特别指出，在类似复杂神经系统的涌现模式的复杂现象中，预测结果只限于模式预测，就是说这种东西精确预测是不可以的。模式预测相对简单，例如经济学家讲供给和需求的均衡，当价格下降的时候，大家都去买，都去排队，需求量增长，这是一种模式预测，同样，当价格上升时，我们预测供给紧跟着增加。你不能精确预测价格下降的时候需求量会有多少，或者需求量是某个值时，精确的价格是多少，这是做不到的。一个城市的主要拥堵时段和拥堵地点是可以预测的，但是精确预测拥堵细节也是不可能的。由于经济系统是所谓的复杂现象，就是所谓的有机程度高的现象，对于它只适宜于做模式预测（这也可以推论出中央计划经济的经济计算困境）。</p><p>所谓的复杂适应系统的涌现现象，简单地说，就是宏观后果不是组分简单地求和，而是通过组分之间的结构、通讯和非线性相互作用产生一个非常巨大的后果。比如亚当.斯密讲的分工制针，如果说让每个人都做一样的工作来做针，一个人做一根针，但是如果我们把它结构成一个分工的链条，他所产生的后果就比原来的后果大得多得多，是成千倍增长，这就是一种通过结构的方式来产生的非线性后果，那么这种复杂系统的非线性后果或者涌现现象是难以精确预测的。</p><p>经济学经常使用统计数据，然后做出一个很精确的价格预测或者什么预测，比如说像计划经济是登峰造极的，它要对每一种价格，每一种东西的需求量，要把它计划得非常精确，哈耶克认为这种设想（和做法）是一种对自然科学奴性模仿的工程思维结果，是对经济系统的模式预测的一个误解。由于经济系统组成元素之间的作用数量极其巨大，而且演化时间非常漫长，呈现出来现有机制是无数次适应修改的结果。而且，复杂系统的涌现过程具有非线性现特征，所谓的涨落现象，就是微小的变动能够引起巨大的后果这样的现象的产生，哈耶克把它叫突变机制，这个突变机制就相当于桑塔菲学派他们讲的所谓的涌现机制，所以我们对这种涌现机制还难以精确的把握，由此我们对它的后果就难以精确的预测，既然难以精确的预测，我们试图为全社会产生多少种产品，制订什么价格，就是不可能的。</p><h3 id="一般规则遵循行为与秩序涌现">一般规则遵循行为与秩序涌现</h3><p>最后一点，我讲讲一般规则遵循行为与秩序涌现，一个总结。</p><p>一般规则遵循行为，这一点哈耶克一再强调，他经常用正当行为规则、一般抽象规则或者说目的无涉的规则。这个阿概念的意思是，我们确立/遵循的规则不是对某一个群体、某一个阶级或某一个地区有利的。如果规则是抽象的，那么每一个人/企业遵从这种抽象的规则，才会能够形成秩序的涌现现象；相反如果我们一地一策，一个群体一个政策，那么这种规则就不是抽象的，不具有一般性，就得不到前一种复杂程度高的秩序现象。哈耶克特别强调规则的抽象性、规则的一般性和规则的无目的性。规则不是满足农民群体的特定目的的，也不是满足少数民族的特定目的的，规则必须是抽象的，谁也不能从这个规则找到对自己特别有利的东西。比如说行车靠左，这个规则对谁都没有特别有利，它就是个抽象规则。在经济系统中，大量的是一种否定性、抽象规则的遵循行为，才会导致高度复杂的有序现象（自由与经济繁荣）。</p><p>哈耶克认为，对抽象规则的遵循形成秩序不限于人类，其它社会性动物也是遵循这种抽象规则形成秩序。例如哈耶克曾经引用生物学文献，动物群体在觅食的时候，如果发生冲突，它就遵循什么规则呢？如果是在距离巢穴很远的地方，不经过激烈的打斗，就赶快撤退，如果我是在我的领地范围内，别人来跟我抢东西，则战斗到底。他说生物在长期的演化过程中形成这样的规则，这样的规则也使得动物能够尽可能的减少冲突。</p><p>人类也是一种被规则所驯化的动物。作为社会性动物，人类遵循的最重要的规则就是习惯、习俗和传统。哈耶克特别强调这个抽象规则的遵循，而文明中的抽象规则习惯、习俗和传统又是特别重要的抽象规则。西蒙1990年在《科学》science上面发了一篇文章，他就讲：人类就是被习惯所驯化的社会动物。遵守习惯，顺从，确实使我们人类比所有动物都强，使我们能够实现一种匿名，跟陌生人能够合作的的机制。但是我们过分地强调顺从也会导致一种比如说法西斯的崛起，你看那么多人都喜欢希特勒，也会导致共产主义社会里面的造神运动盛行。因此顺从是双刃剑，我们遵从习惯，不经思考地顺从，使得我们能够跟陌生人合作，使得人们能够形成一个共同体，这是人类跟别的动物区分的一个最重要的标志。但是它走过分了以后也不行，会导致盲信，相信领导人，形成造神运动。直到今天我们人类还不能避免。</p><p>习惯是使人类进行大范围的匿名合作最重要的一种抽象规则。这也是哈耶克一再强调遵从传统和习俗的原因。哈耶克经常强调：我们不仅是理性的动物，而且也是习惯的动物。过分的把理性高扬，而贬低习俗和传统，使我们走向理性至上主义。当然现代法治社会，又从流变的习惯和传统中不断整理出这种现代意义上的法律（理性化过程），抽象的法律在现代社会中发挥着越来越重要的作用。但是哈耶克强调，我们要理解真正的法律之治，法治的精髓还是在于对抽象规则的遵循，在一点上跟习惯的遵循是一样的。我们认为哈耶克所谓的法的精神是自由的法，真正的法律是在于它的抽象性，就是说是一般的、平等的法律之治，对所有的人一视同仁的法律的统治。哈耶克所心仪的法律就是他称为自由的法律，或者内部规则。他把法律与管理政府的组织原则（也常被称为法律）完全区分开来。就是自由的法律与政府本身怎么样管理的行政法规是完全区分的。他警惕，现代社会一个重要的趋势即私法的公法化，私法的公法化就是把这种法律原本的抽象性消解，就是使得规则只是有利于某一个特定群体或区域。比如说我们的新《劳动法》，我们试图把它修改得对工人一方特别有利，就失去了它的抽象性和一般性。实施的结果可能导致企业倒闭，以及其他难以估量的后果。法律失去了它的抽象性、一般性、非目的性特征，它会走向法治的反面。中国的新《劳动法》已经有了前车之鉴。</p><p>第四个小点，是有限理性与抽象规则遵循行为。为什么要遵循抽象规则呢？为什么制订的法律要讲抽象性和一般性？现在农民很穷，是弱势群体，我们就专门制订一部对农民好的法，少数民族考大学人少，我们就专门来制订一条优惠少数民族来上大学的法。这是不正确的。我们为什么不这能样做？因为这样做有不可估量的损失和后果，最终损害你想要扶助的对象。我们之所以要遵循抽象的和一般的规则来指导我们的行动，那是因为我们不是全知的生物，我们是有限理理性的动物，无时无刻不受到有限理智这个强的约束。抽象法律的本质是人类借以学会约束存在于自己身上无知的手段。只有一个无所不知的人组成的社会，才能用他的智慧来权衡每一项行动，才能由他来制订中央计划经济。如果没有这么一个全知的人，你就不能去做这样一个事情，你就只能用抽象的法律来统治。</p><p>第五个方面，我讲一讲与哈耶克特别相近的，就是波兰尼的“多中心秩序”下的抽象规则遵循行为。他也讲到抽象规则下的遵循行为能够导致秩序的涌现。迈克尔•波兰尼讲的抽象规则遵循能够导致秩序，用的是另外一个故事。他是个自然科学家，他讲到胚胎的形成，植物的生长，晶体的结晶等等，他都从中观察到所谓的一种涌现秩序的现象，他归结为多中心秩序下的抽象规则遵循来导致。波兰尼认为自发秩序是一种无数组分构成的系统中组分之内力和外力的平衡，这种系统的组分数目巨大，秩序的形成依赖于组分之间的自发调整，比如说拉一个菱形架子，这个木架会相互调整。</p><p>还有一个类似的故事，伯克森讲的。他说我们的手，一插进一堆铁屑或者插进一堆米，那么其中它就会形成一个严格的手的形状，在铁屑堆中形成手型的时候，这个铁屑粒会相互挤压和后退，相互调整，它们之间会没有空隙，这无数个调整作用过程是一个多中心的相互调整过程，最后形成一个完整的手形，所谓的多中心系统组分之间相互调整形成的秩序。作为一个类比，在经济系统里面，就要求我们每一个人和企业，基于他们自身的知识和信息，来进行相互调整，不需要一个全知全能的上帝给我下命令，根据自己局部的情形采取行动相互调整，才得以形成秩序。所以波兰尼就强调：只服从统一的、适用于他们所有人的法律，我们才能得到社会中的自发秩序。</p><p>哈耶克的有关研究与复杂性科学的契合</p><p>第六点讲讲哈耶克的有关研究与复杂性科学的契合。</p><p>哈耶克他自己也说自己的研究工作本身是在一个一般系统论和复杂性科学这股大潮中的一个构成部分，他在1952年以后，他在芝加哥大学的时候，与很多自然科学家交往，他在给波普尔的信中就说，“（将于1961年在佛吉利亚大学开办‘经济学理论新视野’讲座）始于我打算重新阐述我对经济理论的性质的观点，我当时形成了一种有关更高层次规则的观点，我一直放不下它，并且它在经济学领域之外似乎也能取得成果。我觉得，它其实就是贝塔朗菲在其‘一般系统理论’中追求的东西，也是我在‘解释的限度’中已经各有所暗示” 。也就是说他所说的经济系统的自发秩序就是贝塔朗菲讲的一般系统论中的自组织这个东西，这个他自己明确的说到了。</p><p>总结四个命题</p><p>好，最后我简单地总结四个命题。</p><p>哈耶克提醒人们，无数个体经由遵循规则产生复杂秩序。个体行为的规则和由此生产的秩序却常常被人们混淆。例如讲“法律秩序”就是混淆的说法。个体遵循规则不一定导致秩序。热力学第二定律揭示处于平衡态的气体是完全无秩序的，熵最大化是自然界的基本法则。但是处于熵最大状态的气体分子，其行动也有其规则，总体则呈现完全无序。以热力学第二定律来看，生命的出现和人类社会经济系统都是宇宙间及其反常的、罕见的秩序现象。哈耶克认为群体行为秩序和个体行为规则遵循之间具有如下复杂关系：</p><p>第一个，自发秩序具有一般性。其实哈耶克所研究的经济秩序只是众多的、无数个、普遍存在的复杂适应系统中的一种。比如说研究飓风的，研究生物学的，研究化学的，其实这种复杂神经系统是非常普遍的东西，哈耶克这个自发秩序现象只不过是经济系统一个特例。那么在这个普遍存在的自发秩序系统是一种大范围秩序涌现现象，而且这种秩序的呈现出来又与秩序中的组分个人目的没有关系，我们经济系统中的每一个就是养家糊口，就要赚钱，它有没有最好呈现什么秩序，我们是不管的，就是说亚当斯密的“看不见的手”，不是我们每一个企业的目的，也不是我们每一个个人的目的，秩序的形成与组分没有关系。而且不仅如此，行动个体对于全面秩序是无从感知，也没有动机感知，大范围的秩序出现是没有任何人设计的情况下出现的。</p><p>第二个，对于能够产生自发秩序的事物有这么五点：一是外部刺激和内部动机导致个体行为，规则就是在指导和限制个人行动的。二是，产生良好秩序的系统里面，规则往往是很简单的，并且往往采用禁令的形式，所以法律应该是一种禁令性的东西（你不要……），而不是一种“”积极自由下指导的东西（你要……）。三是，即使个体有语言能力，也无法知道自己真正遵循语法规则。不仅如此，一个秩序中的个体即使自己知道遵循规则，也无法清晰的表述那些规则，个体经常无法说明他们为何遵循所遵守的规则，他们也无法识别遵循这些规则的实际宏观后果。四是，并不是所有的规则都导致秩序。五是，因为我们所有的行为都是旨在适应环境，所以我们的规则具有环境依赖性，一个群体既往的历史，包括群体过去所面临的环境和它曾经遵循的规则，决定了他现在的规则和将来的变迁，也就是说制度变迁具有环境依赖性。 最后一点就是，复杂秩序能够归因还原为规则的遵循，而不能还原为个体的动机。有的个体行为规则，此时不利于秩序，但是随着环境的变迁，又利于秩序的形成，这就告诉我们一定的规则变异或者规则的多样性对一个社会是有必要的。</p><p>第三个，社会秩序属于复杂秩序：“社会不同于较简单的复杂结构，是因为这样一个事实：它的成分本身也是一种复杂结构，它们的生存机会取决于它们是更大的结构的一部分。单一中心秩序或多中心秩序的复杂程度是不同的。简单地说，单一中心秩序就是计划经济，多中心秩序就是市场经济。这两种不同的秩序，它们的复杂程度不一样。权威命令可以形成秩序，多中心的也可以形成秩序，但是多中心秩序比单一中心秩序具备更加强大的信息处理能力和适应性。</p><p>最后，第四，对于复杂现象只能做原理解释或“模式预测”（pattern predictions）。我们在研究复杂现象时所能做到的，往往只是提供一种对它赖以运行的原理的解释，这里原理的解释是什么意思呢？就是刚才我们讲的需求价格的决定，需求水平是下降的，经济学家能够这样说明绝大多少商品，当价格下降的时候，我们可以预期需求会增长，供给曲线是向上倾斜的，当价格提高的时候，供给会增加，这种大概的说明是可以做到的经济系统中某一种东西的产品需求具体数量和具体价格是不可以进行精确预测，相反只可以，进行哈耶克讲的模式预测。正如我们在上下班的时候，会在某些路段出现拥挤，但是说某一个号牌的车在哪一个时刻会拥挤，这个是不可以进行预测。</p><p>由于经济学所面临的是所谓的复杂现象，我们就不能做很精确的预测，这就使得科学的研究必须放弃一定的精确性，你要保证它正确就要放弃一定的精确性，如果要奴性的模仿自然科学一定要做精确的预测，就到可能会导致荒谬的后果。所以哈耶克曾经这样说：科学的进步必须沿着两个不同的方向前进。尽管我们的理论可以被证伪，固然是可取。但是我们也必须进入另外一个领域，就是讲的经济系统这个复杂现象领域，我们的这些领域的进步，必然伴随着可证伪的程度在逐渐减少，这就是我们进入复杂现象中所必须付出的代价，如果我要漠视这一命题的后果，就会导致社会科学中的决定论，也就是波普尔所讲“神谕哲学”，他批评马克思、黑格尔和柏拉图，特别是批评马克思的哲学是一种“神谕哲学”，一种决定论，他们能够精确地预测社会向哪里发展，这就导致一种决定论，你如果本着决定论的方法，就会荒谬到你装扮成一个神，能够做一种预测，社会精确的发展到哪里去，如果你真的这样做了，大家都不思考了。哈耶克向我们发出的警告，我们的经济学家仅限于模式预测，而不适当做精确的预测。如果精确预测是可能的，那么中央计划经济也是可能的，对历史发展的终极走向提前把握也是可能的。<br>好，我讲完了。</p>]]></content>
    
    
    
    <tags>
      
      <tag>economics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>N_Queen 与柳湖</title>
    <link href="/2024/03/29/N-Queen/"/>
    <url>/2024/03/29/N-Queen/</url>
    
    <content type="html"><![CDATA[<h2 id="柳湖">柳湖</h2><p>问题从一个小组的招新传单中得来，写的很有趣，校鹅也非常的可爱，如下</p><p>柳湖的校鹅在某个时空中有了更强的领地意识，即在柳湖湖面中，它的周围不能有其他校鹅。假设栅格化的柳湖是一个由25个12米大小的正方形组成的大正方形，每个校鹅占据一个小正方形，它周围的直线和对角线的正方形内不能有其他校鹅。请问，我们的五只校鹅可以有多少种领地占据的可能？</p><p>问题翻译过来就是在一个二维数组中某一个元素周围的直线和对角线上不能有其他的元素存在，否则他们要打架，这和国际象棋中的皇后是一样的</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs markdown">0, 0, 0, 0 ,01, x, x, x ,x<br>0 ,0 ,0 ,0 ,0x, x, 0, 0 ,0<br>0 ,0 ,0 ,0 ,0  让一只鹅皇后在[0,0]的位置--&gt; x, 0, x, 0 ,0   那么我写x的地方就不能有其它的鹅了<br>0 ,0 ,0 ,0 ,0x, 0, 0, x ,0<br>0 ,0 ,0 ,0 ,0x, 0, 0, 0 ,x<br><br></code></pre></td></tr></table></figure><p>问的是有多少种校鹅的排列方式。</p><h2 id="校鹅">校鹅</h2><p>这里我采用编程的办法解决 (我写到最后，发现用时比手算多了不知道多少倍:-(</p><p>首先，要生成一个5X5的矩阵的所有元素的索引</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#初始位置索引</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>()-&gt;<span class="hljs-built_in">list</span> :<br>    available_index = [] <br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-number">5</span>):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-number">5</span>):          <br>            available_index.append([i,j]) <br>    <span class="hljs-keyword">return</span> available_index<br><br></code></pre></td></tr></table></figure><p>然后根据规则，找出一个元素占据了某一个位置时要排除的位置</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#生成位置排除列表 </span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">position_deduct</span>(<span class="hljs-params">arr</span>)-&gt;<span class="hljs-built_in">list</span>:<br>    row_index = arr[<span class="hljs-number">0</span>]<br>    column_index = arr[<span class="hljs-number">1</span>]<br>    deducted_list = []   <br>    i = row_index; j = column_index<br>    <br>    <span class="hljs-comment">#计算直线上的不可用位置</span><br>    <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(-<span class="hljs-number">10</span>,<span class="hljs-number">10</span>):  <span class="hljs-comment">#偏移量，随便取值</span><br>        <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(-<span class="hljs-number">10</span>,<span class="hljs-number">10</span>): <span class="hljs-comment">#列</span><br>            <span class="hljs-keyword">if</span> -i &lt;= m &lt;= <span class="hljs-number">4</span>-i :  <br>                deducted_position = [i+m,j]<br>                deducted_list.append(deducted_position)<br>            <span class="hljs-keyword">else</span>:<span class="hljs-keyword">pass</span><br>            <span class="hljs-keyword">if</span> -j &lt;= k &lt;= <span class="hljs-number">4</span>-j:  <span class="hljs-comment">#行</span><br>                deducted_position = [i,j+k]<br>                deducted_list.append(deducted_position) <br>    <span class="hljs-comment">#计算对角线上的不可用位置 ok</span><br>    <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(-<span class="hljs-number">10</span>,<span class="hljs-number">10</span>):<span class="hljs-comment">#主对角线</span><br>        <span class="hljs-keyword">if</span> -i &lt;= k &lt;= <span class="hljs-number">4</span>-i <span class="hljs-keyword">and</span> -j &lt;= k &lt;= <span class="hljs-number">4</span>-j:<br>            p = k<br>            deducted_position = [i+p,j+p]<br>            deducted_list.append(deducted_position)<br>    <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(-<span class="hljs-number">10</span>,<span class="hljs-number">10</span>):<span class="hljs-comment">#副对角线</span><br>        <span class="hljs-keyword">if</span> i-<span class="hljs-number">4</span> &lt;= k &lt;= i <span class="hljs-keyword">and</span> -j &lt;= k &lt;= <span class="hljs-number">4</span>-j:<br>            p = k<br>            deducted_position = [i-p,j+p]<br>            deducted_list.append(deducted_position)<br>    <span class="hljs-comment">#这里对生成的列表进行去重</span><br>    temp = []<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> deducted_list:<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> item <span class="hljs-keyword">in</span> temp:<br>            temp.append(item)<br>       <br>    deducted_list = temp<br>    <span class="hljs-keyword">return</span> deducted_list<br></code></pre></td></tr></table></figure><p>有了不可以使用的位置，还需要根据它找出可用的位置</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#可用位置计算 </span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">available_position</span>(<span class="hljs-params">position_pool,position_deduct_list</span>):<br>    new_position_pool = [item <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> position_pool <span class="hljs-keyword">if</span> item <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> position_deduct_list]<br>    position_pool = new_position_pool<br>    <span class="hljs-keyword">return</span> position_pool<br></code></pre></td></tr></table></figure><p>好了，工具准备齐了，开始写主程序。问题有点复杂，我写的也很复杂，这种代码拿到网上要被痛批的</p><p>我用了五层的for循环，只为遍历每一种情况，最后生成的列表包含大量重复的子列表，还需要进一步处理，为什么会有重复呢，这是遍历不能避免的问题。这里很有改进的空间，用递归或许可以。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#主程序</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">first_list</span>):<br>    result_list = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> first_list:<br>        <br>        x_1 = <span class="hljs-number">0</span>;x_2 = <span class="hljs-number">0</span>;x_3= <span class="hljs-number">0</span>;x_4 = <span class="hljs-number">0</span>;x_5=<span class="hljs-number">0</span><br>        <br>        x_1 = i<br>        position_deduct_1 = position_deduct(i)<br>        second_list = available_position(first_list,position_deduct_1)<br>            <br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> second_list:<br>               <br>            x_2 = j                   <br>            position_deduct_2 = position_deduct(j)                    <br>            third_list = available_position(second_list,position_deduct_2)<br>                <br>            <span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> third_list:<br>                        <br>                x_3 = a<br>                position_deduct_3 = position_deduct(a)          <br>                fourth_list = available_position(third_list,position_deduct_3)<br>                <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> fourth_list:<br>                                <br>                    x_4 = b<br>                    position_deduct_4 = position_deduct(b)<br>                                    <br>                    fifth_list = available_position(fourth_list,position_deduct_4)<br>                    <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> fifth_list:<br>                        x_5 = c<br>                        result_list.append([x_1,x_2,x_3,x_4,x_5])<br>    <span class="hljs-comment">#print(result_list)                                  </span><br>    <span class="hljs-keyword">return</span> result_list  <br><br></code></pre></td></tr></table></figure><p>生成了如下的列表：</p><p>[[[0, 0], [1, 2], [2, 4], [3, 1], [4, 3]], [[0, 0], [1, 2], [2, 4], [4, 3], [3, 1]], [[0, 0], [1, 2], [3, 1], [2, 4], [4, 3]], [[0, 0], [1, 2], [3, 1], [4, 3], [2, 4]],…]</p><p>可以看到有很多重复的地方，重复的子列表表示的是重复的一个矩阵</p><p>那么先让它变成一个包含大量矩阵的列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">arraylist_convert</span>(<span class="hljs-params">t</span>):<br>    result = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> t:   <br>        arr = np.zeros([<span class="hljs-number">5</span>,<span class="hljs-number">5</span>],<span class="hljs-built_in">int</span>)  <br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> i:<br>            arr[j[<span class="hljs-number">0</span>]][j[<span class="hljs-number">1</span>]] = <span class="hljs-number">1</span> <span class="hljs-comment">#按照行标和列标赋值即可</span><br><br>        result.append(arr)<br>    <span class="hljs-keyword">return</span> result<br><br></code></pre></td></tr></table></figure><p>有了这样一个列表，去重即可。去重的部分是由AI写的，最后对最终所得列表进行计数即可。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">remove_duplicate_arrays</span>(<span class="hljs-params">arrays_list</span>):<br>    unique_arrays = <span class="hljs-built_in">set</span>()<br>    result = []<br><br>    <span class="hljs-keyword">for</span> array <span class="hljs-keyword">in</span> arrays_list:<br>        array_tuple = <span class="hljs-built_in">tuple</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">tuple</span>, array))  <span class="hljs-comment"># 将二维数组转换为元组</span><br>        <span class="hljs-keyword">if</span> array_tuple <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> unique_arrays:<br>            unique_arrays.add(array_tuple)<br>            result.append(array)<br>    <span class="hljs-keyword">return</span> result<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">count_num</span>(<span class="hljs-params">arr</span>):<br>    n = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> arr:<br>        n += <span class="hljs-number">1</span> <br>    <span class="hljs-keyword">return</span> n<br><br><br></code></pre></td></tr></table></figure><p>好了，写完了。完整代码如下</p><h2 id="Code">Code</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#初始位置索引选择 ok</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>()-&gt;<span class="hljs-built_in">list</span> :<br>    available_index = [] <br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-number">5</span>):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-number">5</span>):          <br>            available_index.append([i,j]) <br>    <span class="hljs-keyword">return</span> available_index<br><br><span class="hljs-comment">#可用位置计算 ok</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">available_position</span>(<span class="hljs-params">position_pool,position_deduct_list</span>):<br>    new_position_pool = [item <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> position_pool <span class="hljs-keyword">if</span> item <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> position_deduct_list]<br>    position_pool = new_position_pool<br>    <span class="hljs-keyword">return</span> position_pool<br><br><span class="hljs-comment">#生成位置排除列表 ok</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">position_deduct</span>(<span class="hljs-params">arr</span>)-&gt;<span class="hljs-built_in">list</span>:<br>    row_index = arr[<span class="hljs-number">0</span>]<br>    column_index = arr[<span class="hljs-number">1</span>]<br>    deducted_list = []   <br>    i = row_index; j = column_index<br>    <br>    <span class="hljs-comment">#计算直线上的不可用位置</span><br>    <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(-<span class="hljs-number">10</span>,<span class="hljs-number">10</span>):  <span class="hljs-comment">#偏移量，随便取值</span><br>        <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(-<span class="hljs-number">10</span>,<span class="hljs-number">10</span>): <span class="hljs-comment">#列</span><br>            <span class="hljs-keyword">if</span> -i &lt;= m &lt;= <span class="hljs-number">4</span>-i :  <br>                deducted_position = [i+m,j]<br>                deducted_list.append(deducted_position)<br>            <span class="hljs-keyword">else</span>:<span class="hljs-keyword">pass</span><br>            <span class="hljs-keyword">if</span> -j &lt;= k &lt;= <span class="hljs-number">4</span>-j:  <span class="hljs-comment">#行</span><br>                deducted_position = [i,j+k]<br>                deducted_list.append(deducted_position) <br>    <span class="hljs-comment">#计算对角线上的不可用位置 ok</span><br>    <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(-<span class="hljs-number">10</span>,<span class="hljs-number">10</span>):<span class="hljs-comment">#主对角线</span><br>        <span class="hljs-keyword">if</span> -i &lt;= k &lt;= <span class="hljs-number">4</span>-i <span class="hljs-keyword">and</span> -j &lt;= k &lt;= <span class="hljs-number">4</span>-j:<br>            p = k<br>            deducted_position = [i+p,j+p]<br>            deducted_list.append(deducted_position)<br>    <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(-<span class="hljs-number">10</span>,<span class="hljs-number">10</span>):<span class="hljs-comment">#副对角线</span><br>        <span class="hljs-keyword">if</span> i-<span class="hljs-number">4</span> &lt;= k &lt;= i <span class="hljs-keyword">and</span> -j &lt;= k &lt;= <span class="hljs-number">4</span>-j:<br>            p = k<br>            deducted_position = [i-p,j+p]<br>            deducted_list.append(deducted_position)<br>    <span class="hljs-comment">#去重</span><br>    temp = []<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> deducted_list:<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> item <span class="hljs-keyword">in</span> temp:<br>            temp.append(item)<br>       <br>    deducted_list = temp<br>    <span class="hljs-keyword">return</span> deducted_list<br><br><span class="hljs-comment">#主程序</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">first_list</span>):<br>    result_list = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> first_list:<br>        <br>        x_1 = <span class="hljs-number">0</span>;x_2 = <span class="hljs-number">0</span>;x_3= <span class="hljs-number">0</span>;x_4 = <span class="hljs-number">0</span>;x_5=<span class="hljs-number">0</span><br>        <br>        x_1 = i<br>        position_deduct_1 = position_deduct(i)<br>        second_list = available_position(first_list,position_deduct_1)<br>            <br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> second_list:<br>               <br>            x_2 = j                   <br>            position_deduct_2 = position_deduct(j)                    <br>            third_list = available_position(second_list,position_deduct_2)<br>                <br>            <span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> third_list:<br>                        <br>                x_3 = a<br>                position_deduct_3 = position_deduct(a)          <br>                fourth_list = available_position(third_list,position_deduct_3)<br>                <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> fourth_list:<br>                                <br>                    x_4 = b<br>                    position_deduct_4 = position_deduct(b)<br>                                    <br>                    fifth_list = available_position(fourth_list,position_deduct_4)<br>                    <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> fifth_list:<br>                        x_5 = c<br>                        result_list.append([x_1,x_2,x_3,x_4,x_5])<br>    <span class="hljs-built_in">print</span>(result_list)                                  <br>    <span class="hljs-keyword">return</span> result_list                                <br><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">arraylist_convert</span>(<span class="hljs-params">t</span>):<br>    result = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> t:   <br>        arr = np.zeros([<span class="hljs-number">5</span>,<span class="hljs-number">5</span>],<span class="hljs-built_in">int</span>)  <br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> i:<br>            arr[j[<span class="hljs-number">0</span>]][j[<span class="hljs-number">1</span>]] = <span class="hljs-number">1</span><br><br>        result.append(arr)<br>    <span class="hljs-keyword">return</span> result<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">remove_duplicate_arrays</span>(<span class="hljs-params">arrays_list</span>):<br>    unique_arrays = <span class="hljs-built_in">set</span>()<br>    result = []<br><br>    <span class="hljs-keyword">for</span> array <span class="hljs-keyword">in</span> arrays_list:<br>        array_tuple = <span class="hljs-built_in">tuple</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">tuple</span>, array))  <span class="hljs-comment"># 将二维数组转换为元组</span><br>        <span class="hljs-keyword">if</span> array_tuple <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> unique_arrays:<br>            unique_arrays.add(array_tuple)<br>            result.append(array)<br>    <span class="hljs-keyword">return</span> result<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">count_num</span>(<span class="hljs-params">arr</span>):<br>    n = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> arr:<br>        n += <span class="hljs-number">1</span> <br>    <span class="hljs-keyword">return</span> n<br><br><br><span class="hljs-comment">#调用</span><br>init_list = func()<br>original_list = main(init_list)<br>r = arraylist_convert(original_list)<br>unique_arrays = remove_duplicate_arrays(r)<br>solve = count_num(unique_arrays)<br><span class="hljs-built_in">print</span>(solve)<br></code></pre></td></tr></table></figure><h2 id="一点想法">一点想法</h2><p>使用随机算法或许会简单一些</p><p>我觉得可以随机生成很多个矩阵，再判断他们到底符不符合要求，最后把符合要求的矩阵数除以总的生成矩阵的数量，得到概率，而题目所有矩阵的数量根据组合数可轻松算出来，乘以概率即可得到结果，这不比一个一个找简单多了。</p>]]></content>
    
    
    
    <tags>
      
      <tag>code_learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>更新记录</title>
    <link href="/2024/03/11/about/"/>
    <url>/2024/03/11/about/</url>
    
    <content type="html"><![CDATA[<h2 id="2023-11-27-改进了显示错误">2023.11.27  改进了显示错误</h2><p>突然发现导航栏是德语标题，在配置文件修改为中文。</p><h2 id="2024-3">2024.3</h2><p>建议使用暗色模式浏览，因为在暗色模式下代码的浏览效果要好一些。</p>]]></content>
    
    
    
    <tags>
      
      <tag>log</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>matlab_with_vscode</title>
    <link href="/2024/03/10/matlab-with-vscode/"/>
    <url>/2024/03/10/matlab-with-vscode/</url>
    
    <content type="html"><![CDATA[<h2 id="MATLAB的使用">MATLAB的使用</h2><p>最近在搞数学建模的事情</p><p>建模自然就要用到Matlab了，但是Matlab自带的IDE让我说不出话来，笨重不说，而且非常难看。</p><p>竟然有IDE默认主题是<strong>白色</strong>的，而且颜色还非常难调。我看了一下午的Matlab，眼睛非常难受。</p><p>这时，我才想起来，VsCode还有MATLAB的插件。于是装上插件，顿时轻松了不少。图片本来想放的，但是hexo的插入图片的机制实在太麻烦了，以后的文章就不放图了，就放文字和代码。</p><h2 id="MATLAB的语法">MATLAB的语法</h2><p>语法非常简单，甚至比py还简单。甚至都不需要认真去学它的语法，照着相关文档写就行了，贴一段代码：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><br>clc, clear, close all<br>x0=[<span class="hljs-number">0</span> <span class="hljs-number">3</span> <span class="hljs-number">5</span> <span class="hljs-number">7</span> <span class="hljs-number">9</span> <span class="hljs-number">11</span> <span class="hljs-number">12</span> <span class="hljs-number">13</span> <span class="hljs-number">14</span> <span class="hljs-number">15</span>];<br>y0=[<span class="hljs-number">0</span> <span class="hljs-number">1.2</span> <span class="hljs-number">1.7</span> <span class="hljs-number">2.0</span> <span class="hljs-number">2.1</span> <span class="hljs-number">2.0</span> <span class="hljs-number">1.8</span> <span class="hljs-number">1.2</span> <span class="hljs-number">1.0</span> <span class="hljs-number">1.6</span>];<br><br>x = <span class="hljs-number">0</span>:<span class="hljs-number">0.1</span>:<span class="hljs-number">15</span>; <br><span class="hljs-comment">%拉格朗日插值</span><br>y1 = lagrange(x0,y0,x);<br><span class="hljs-comment">%一阶插值</span><br>y2 = interp1(x0,y0,x);<br><span class="hljs-comment">%三次样条插值</span><br>y3 = interp1(x0,y0,x,<span class="hljs-string">&quot;spline&quot;</span>);<br><span class="hljs-comment">%csape返回的是一个函数，fnval用于计算x在pp4的值</span><br>pp4 = csape(x0,y0);y4 = fnval(pp4,x);<br><span class="hljs-comment">%进行任意维数的插值</span><br>yx5 = griddedInterpolant(x0,y0,<span class="hljs-string">&quot;spline&quot;</span>)<br>y5 = yx5(x); <span class="hljs-comment">%griddedInterp返回的是一个数学函数</span><br><br>[y1&#x27;,y2&#x27;,y3&#x27;,y4&#x27;,y5&#x27;]<br>subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>),<span class="hljs-built_in">plot</span>(x,y1),title(<span class="hljs-string">&quot;lagrange&quot;</span>)<br>subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>),<span class="hljs-built_in">plot</span>(x,y2),title(<span class="hljs-string">&quot;分段&quot;</span>)<br>subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>),<span class="hljs-built_in">plot</span>(x,y3),title(<span class="hljs-string">&quot;cubic interp&quot;</span>)<br><br>dx = diff(x);dy = diff(y3);<br><br>dy_dx = dy ./ dx; dy_dx0 = dy_dx(<span class="hljs-number">1</span>)<br><br>ytemp = y3(<span class="hljs-number">131</span>:<span class="hljs-number">151</span>);ymin = <span class="hljs-built_in">min</span>(ytemp);<br>index = <span class="hljs-built_in">find</span>(y3 == ymin);<br>xmin = x(index);&#123;xmin,ymin&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">y</span> = <span class="hljs-title">lagrange</span><span class="hljs-params">(x0,y0,x)</span>;</span><br><br>n = <span class="hljs-built_in">length</span>(x0);<br>m = <span class="hljs-built_in">length</span>(x);<br><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">1</span>:m<br>    z = x(<span class="hljs-built_in">i</span>); s = <span class="hljs-number">0.0</span>;<br>    <br>    <span class="hljs-keyword">for</span> k = <span class="hljs-number">1</span>:n<br>        p = <span class="hljs-number">1.0</span>;<br><br>        <span class="hljs-keyword">for</span> <span class="hljs-built_in">j</span> = <span class="hljs-number">1</span>:n<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">j</span> ~= k <br><br>                p = p*(z - x0(<span class="hljs-built_in">j</span>)) / (x0(k) - x0(<span class="hljs-built_in">j</span>));<br>            <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">end</span><br><br>        s = p * y0(k) + s;<br>    <span class="hljs-keyword">end</span><br>    y(<span class="hljs-built_in">i</span>) = s;<br><br><span class="hljs-keyword">end</span><br><br></code></pre></td></tr></table></figure><p>甚至还有和Py大差不差的缩进，而且定义函数都不需要声明返回值。可以说是非常简单易学了。虽然IDE不怎么样，我觉得官方甚至可以直接发布一个不带前端的版本好了。</p>]]></content>
    
    
    
    <tags>
      
      <tag>code</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>数据提取</title>
    <link href="/2024/01/05/pdfextract/"/>
    <url>/2024/01/05/pdfextract/</url>
    
    <content type="html"><![CDATA[<h1>从人写的文章中提取数据</h1><p>这是一篇文章</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><code class="hljs markdown">1 <br> 证券代码： 000001               证券简称：平安银行              公告编号： 2023-014 <br>优先股代码： 140002                                         优先股简称：平银优 01 <br> <br>平安银行股份 有限公司 拟续聘会计师事务所的公告  <br> <br>本公司及董事会全体成员保证信息披露的内容真实、准确、完整，没有虚假记载、误导<br>性陈述或重大遗漏。  <br> <br>特别提示：  <br>1、拟续聘的会计师事务所名称：安永华明会计师事务所 （特殊普通合伙 ）。 <br>2、本公司董事会及董事会审计委员会、独立董事对拟续聘会计师事务所不<br>存在异议。  <br>3、本次续聘会计师事务所事项 须提交本公司股东大会审议。  <br> <br>平安银行股份有限公司（以下简称 “本行”）于 2023年3月8日召开第 十<br>二届董事会第 六次会议，审议并通过了《 平安银行股份有限公司关于 聘请2023<br>年度会计师事务所的议案》 ，拟续聘安永华明会计师事务所 （特殊普通合伙 ）（以<br>下简称“安永华明 ”）担任本行 2023年度中国会计准则审计师 。上述议案 须提<br>交本行股东大会审议 。现将有关情况公告如下：  <br>一、拟续聘会计师事务所的基本情况  <br>（一）机构信息  <br>1、基本信息  <br>安永华明会计师事务所（特殊普通合伙）于 1992年9月成立， 2012年8月<br>完成本土化转制， 从一家中外合作的有限责任制事务所转制为特殊普通合伙制事<br>务所。安永华明总部设在北京，注册地址为北京市东城区东长安街 1号东方广场<br>安永大楼 17层01-12室。截至 2022年末，拥有合伙人 229人，首席合伙人为毛<br>鞍宁先生。  <br>截至 2022年末，安永华明拥有执业注册会计师 1,818人，其中拥有证券相<br>关业务服务经验的执业注册会计师超过 1,500人，注册会计师中签署过证券服务<br>业务审计报告的注册会计师超过 400人。  2 <br> 安永华明 2021年度业务总收入人民币 54.90亿元，其中审计业务收入人民<br>币52.82亿元，与证券业务 相关的收入为人民币 22.7亿元。 2021年度 A股上市<br>公司年报审计客户共计 116家，收费总额人民币 7.63亿元。安永华明 所提供服<br>务的上市公司主要 涉及制造业、金融业、批发和零售业、信息传输、软件和信息<br>技术服务业、房地产业等 行业，其中金融业 上市公司审计客户 20家。  <br>2、投资者保护能力  <br>安永华明具有良好的投资者保护能力， 已按照相关法律法规要求计提职业风<br>险基金和购买职业保险，保险涵盖北京总所和全部分所。已计提的职业风险基金<br>和已购买的职业保险累计赔偿限额之和超过人民币 2亿元。 安永华明近三年不存<br>在任何因与执业行为相关的民事诉讼而需承担民事责任的情况。  <br>3、诚信记录  <br>安永华明及从业人员近三年没有因执业行为受到任何刑事处罚、行政处罚，<br>以及证券交易所、行业协会等自律组织的自律监管措施和纪律处分。曾两次收到<br>证券监督管理机构出具警示函措施的决定，涉及从业人员十 三人。前述出具警示<br>函的决定属监督管理措施，并非行政处罚。根据相关法律法规的规定，该监督管<br>理措施不影响安永华明继续承接或执行证券服务业务和其他业务。  <br>（二）项目信息  <br>1、基本信息  <br>项目合伙人及签字注册会计师： 昌华女士， 于2006年成为注册会计师， 2001<br>年开始从事上市公司审计， 2001年开始在安永华明执业， 2021年开始为本 行提<br>供审计服务；近三年签署 或复核 5家上市公司审计报告 。 <br>项目质量控制复核合伙人： 田志勇先生，于 2013年成为注册会计师， 2007<br>年开始从事上市公司审计， 2015年开始在安永华明执业， 2022年开始为本行提<br>供审计服务；近三年签署或复核 4家上市公司审计报告。  <br>签字注册会计师：王阳燕女士， 于2017年成为注册会计师， 2012年开始从<br>事上市公司审计， 2012年开始在安永华明执业， 2021年开始为本 行提供审计服<br>务；近三年签署 或复核 1家上市公司审计报告 。 <br>  3 <br> 2、诚信记录  <br>项目合伙人、签字注册会计师、项目质量控制复核人近三年不存在因执业行<br>为受到刑事处罚，或受到证监会及其派出机构、行业主管部门的行政处罚、监督<br>管理措施，或受到证券交易场所、行业协会等自律组织的自律监管措施、纪律处<br>分的情况。  <br>3、独立性  <br>安永华明及上述项目合伙人、签字注册会计师、项目质量控制复核人等不存<br>在违反《中国注册会计师职业道德守则》对独立性要求的情形。  <br>4、审计收费  <br>平安银行股份有限公司 2023年度的审计费用拟定为 合计人民币 1,020万元，<br>较上年审计费用相比变化不大， 其中财务审计费用拟定为 人民币 870万元（包含<br>增值税及代垫费用） ，内部控制审计费用拟定为 人民币 150万元（包含增值税及<br>代垫费用） 。本次审计费用按照市场公允合理的定价原则，综合考虑业务规模、<br>审计工作量等因素后与安永华明协商确定。  <br>二、拟续聘会计师事务所履行的程序  <br>（一）审计委员会履职情况  <br>本行董事会审计委员会委员查阅了安永华明关于专业胜任能力、 投资者保护<br>能力、诚信状况和独立性 等相关资料，认为其能够满足为本行提供审计服务的要<br>求。本行第十二届董事会审计委员会第 四次会议审议通过了《平安银行股份有限<br>公司关于 聘请2023年度会计师事务所的议案》 ，并同意将该议案提交董事会审<br>议。  <br>（二）独立董事的事前认可情况和独立意见  <br>本行独立董事对 续聘会计师事务所的相关事项进行了事前认可并发表独立<br>意见：安永华明在专业胜任能 力、投资者保护能力、 诚信状况和独立性 等方面符<br>合监管规定。 续聘安永华明担任 本行 2023年度中国会计准则审计师的相关决策<br>程序符合 《公司法》 、 《证券法》 、 《深圳证券交易所股票上市规则》 及 《公司章程》<br>等有关规定。 独立董事同意本议案，并同意将本议案提交 本行股东大会审议。  <br>  4 <br> （三）董事会对议案审议和表决情况  <br>本行于 2023年3月8日召开第 十二届董事会第 六次会议，审议通过了《 平<br>安银行股份有限公司关于 聘请2023年度会计师事务所的议案》 。 本议案 须提交本<br>行股东大会审议。  <br>（四）生效日期  <br>本次续聘会计师事务所事项 须提交本行股东大会审议， 并自 本行股东大会审<br>议通过之日起生效。  <br>三、备查文件  <br>1、董事会决议；  <br>2、审计委员会履职证明文件；  <br>3、独立董事事前认可和独立意见；  <br>4、安永华明 基本情况说明 。 <br>特此公告。  <br> <br> <br>平安银行股份有限公司董事会  <br>2023年3月9日 <br></code></pre></td></tr></table></figure><p>要在这篇公告里提取出有关注册会计师的信息。有人会说这不是很简单吗，但是这样的文档有10000篇</p><p>那自然要用程序提取了</p><p>浅浅吐槽一下，这用常规方法（正则表达式）几乎不可能做到，这是人能做到的事吗？但看看日历，今夕是何年？</p><p>如今有了各种各样的大模型，这样的任务还是能办到的</p><h2 id="代码说明">代码说明</h2><p>准备工作，需要安装这些库</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs markdown">pandas<br>google.generativeai<br>PyPDF2<br></code></pre></td></tr></table></figure><p>代码主要分为两个部分，分为爬取文件和提取数据两大模块，先后执行</p><p>爬取完文件之后，进行数据提取</p><p>由于文件内容复杂，这里让AI来填充预先设定好的格式，格式为json的二维数组,为之后转化为excel格式做好准备</p><h2 id="提示词">提示词</h2><p>提示词至关重要，不同的提示词虽然在单个请求中表现几乎相同，但在大量请求中就会表现出差异</p><p>举个例子”提取到的项目合伙人开始从事上市公司审计的年份“，可能大家觉得就是开始审计的那一年，但在大量请求中，AI会理解为审计了多少年。因此不妨改成”提取到的项目合伙人开始从事上市公司审计的那一年“，这样就会更精确。</p><p>以下是AI提示词中的json数组格式部分</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs json"><br><span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;证券代码&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的证券代码&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;证券简称&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的证券简称&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;日期&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的日期按照yyyy-mm-dd的格式&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;审计承做的会计师事务所&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的审计承做的会计师事务所全称加合伙类型&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;项目合伙人&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的项目合伙人姓名&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;项目合伙人成为中国注册会计师的年份&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的项目合伙人成为中国注册会计师的年份&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;项目合伙人开始从事上市公司审计的年份&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的项目合伙人开始从事上市公司审计的年份&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;项目合伙人在本所工作的年份&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的项目合伙人在本所工作的年份&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;项目合伙人最近 3 年签署上市公司审计报告家数&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的项目合伙人最近 3 年签署上市公司审计报告家数&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;项目合伙人近 3 年是否受到刑事处罚、行政处罚、行政监管措施和自律处分&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的项目合伙人近 3 年是否受到刑事处罚、行政处罚、行政监管措施和自律处分（回答是否）&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;签字注册会计师&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的不同于项目合伙人的签字注册会计师姓名&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;签字注册会计师成为中国注册会计师的年份&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的签字注册会计师成为中国注册会计师的年份&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;签字注册会计师开始从事上市公司审计的年份&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的签字注册会计师开始从事上市公司审计的年份&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;签字注册会计师在本所工作的年份&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的签字注册会计师在本所工作的年份&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;签字注册会计师最近 3 年签署上市公司审计报告家数&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;提取到的签字注册会计师最近 3 年签署上市公司审计报告家数&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;签字注册会计师近 3 年是否受到刑事处罚、行政处罚、行政监管措施和自律处分&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;根据提取到的签字注册会计师近 3 年是否受到刑事处罚、行政处罚、行政监管措施和自律处分回答是或者否&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><br><br></code></pre></td></tr></table></figure><p>先运行Main，再执行error_retry</p><p>最后会得到一个data.txt</p><p>更改为json格式后使用vscode对json进行检查</p><p>确认json格式正确后即可转化为excel工作表。</p><h2 id="AI接口">AI接口</h2><p>这里使用的是Gemini，需要特殊的网络条件。不同的模型会用不同的请求方式，参考官方的说明文档</p><p>在实际使用中，Gemini表现并不能让人满意，若要更换模型，重写api_1方法即可。</p><p>以下是代码部分</p><h2 id="爬取文件的代码">爬取文件的代码</h2><p>这里爬取文件网上有现成的。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-comment">## Step1：自定义参数</span><br><br><span class="hljs-comment"># 1、定义股票代码列表 和 爬取结果输出地址(最好指定一个空的文件夹)———必选项</span><br><br>Codelist_path = <span class="hljs-string">r&quot;&quot;</span><br>Output_path = <span class="hljs-string">r&quot;&quot;</span><br><br><br><span class="hljs-comment"># 此路径是Step4中的stock_list文件输出地址，若不执行Step4则无需修改</span><br>Stocklist_path = <span class="hljs-string">r&quot;&quot;</span><br><br><span class="hljs-comment"># 2、定义要爬取的报表类型（若同时爬取多项中间用;连接）———必选项</span><br><br><span class="hljs-comment"># 公司年度报告：category_ndbg_szsh</span><br><span class="hljs-comment"># 公司治理报告：category_gszl_szsh</span><br><br>Category_All = <span class="hljs-string">&quot;category_ndbg_szsh;category_sjdbg_szsh;category_dshgg_szsh;category_rcjy_szsh;category_sf_szsh;category_pg_szsh;category_kzzq_szsh;category_bcgz_szsh;category_tbclts_szsh;category_tszlq_szsh;category_cqdq_szsh;category_qtrz_szsh;category_jj_szsh;category_zf_szsh;category_gszl_szsh;category_jshgg_szsh;category_yjygjxz_szsh;category_bndbg_szsh;category_yjdbg_szsh;category_qyfpxzcs_szsh;category_gddh_szsh;category_zj_szsh;category_gqjl_szsh;category_gszq_szsh;category_gqbd_szsh;category_fxts_szsh;&quot;</span><br><br><span class="hljs-comment"># Category_A = Category_All</span><br><br><span class="hljs-comment"># Category_A = &quot;category_ndbg_szsh;&quot;</span><br><br>Category_A = <span class="hljs-string">&quot;category_rcjy_szsh&quot;</span><br><br><br><span class="hljs-comment"># **Category参数含义说明：**</span><br><br><span class="hljs-comment"># | category              | 含义       | category               | 含义     | category           | 含义     | category           | 含义     | category             | 含义           |</span><br><span class="hljs-comment"># | --------------------- | ---------- | ---------------------- | -------- | ------------------ | -------- | ------------------ | -------- | -------------------- | -------------- |</span><br><span class="hljs-comment"># | category_ndbg_szsh    | 年报       | category_qyfpxzcs_szsh | 权益分派 | category_gszl_szsh | 公司治理 | category_pg_szsh   | 配股     | category_gqbd_szsh   | 股权变动       |</span><br><span class="hljs-comment"># | category_bndbg_szsh   | 半年报     | category_dshgg_szsh    | 董事会   | category_zj_szsh   | 中介报告 | category_jj_szsh   | 解禁     | category_bcgz_szsh   | 补充更正       |</span><br><span class="hljs-comment"># | category_yjdbg_szsh   | 一季报     | category_jshgg_szsh    | 监事会   | category_sf_szsh   | 首发     | category_gszq_szsh | 公司债   | category_cqdq_szsh   | 澄清致歉       |</span><br><span class="hljs-comment"># | category_sjdbg_szsh   | 三季报     | category_gddh_szsh     | 股东大会 | category_zf_szsh   | 增发     | category_kzzq_szsh | 可转债   | category_fxts_szsh   | 风险提示       |</span><br><span class="hljs-comment"># | category_yjygjxz_szsh | 业绩预告   | category_rcjy_szsh     | 日常经营 | category_gqjl_szsh | 股权激励 | category_qtrz_szsh | 其他融资 | category_tbclts_szsh | 特别处理和退市 |</span><br><span class="hljs-comment"># | category_tszlq_szsh   | 退市整理期 |                        |          |                    |          |                    |          |                      |                |</span><br><br><br><span class="hljs-comment"># 3、定义要爬取的时间段———必选项</span><br><br>SeDate_A = <span class="hljs-string">&#x27;2019-01-01~2023-01-01&#x27;</span><br><br><span class="hljs-comment"># 4、定义爬取指定报告的关键词（若不指定则保持为空即可）———可选项</span><br><br>Search_key = <span class="hljs-string">&#x27;会计师事务所&#x27;</span><br><br><span class="hljs-comment"># ---------------------------------------------------使用说明：以下代码非必要请勿修改！-------------------------------------------------------</span><br><br><span class="hljs-comment">## Step2：导入工具包</span><br><br><span class="hljs-keyword">import</span> requests<br><span class="hljs-comment"># 用于获取网页内容</span><br><span class="hljs-keyword">from</span> urllib.request <span class="hljs-keyword">import</span> urlretrieve<br><span class="hljs-comment"># 用于下载网络文件到本地</span><br><span class="hljs-keyword">import</span> re<br><span class="hljs-comment"># 用于正则匹配</span><br><span class="hljs-keyword">import</span> math<br><span class="hljs-comment"># 用于调用数学函数</span><br><span class="hljs-keyword">import</span> json<br><span class="hljs-comment"># 用于解析json</span><br><span class="hljs-keyword">import</span> xlwt<br><span class="hljs-comment"># 用于写入excel</span><br><span class="hljs-keyword">import</span> xlrd<br><span class="hljs-comment"># 用于读取excel</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-comment"># 用于实现系统功能</span><br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-comment"># 导入pandas工具库</span><br><br><br><span class="hljs-comment">## Step3：获取巨潮资讯的数据源格式信息</span><br><br><span class="hljs-comment"># 从以下url中提取所需要的上市企业数据源信息（该url包括了巨潮资讯网上目前所有上市企业的stockList信息，我们的目的是从中获取到不同股票的orgId，以便接下来通过orgId去爬取不同企业的指定报告）</span><br>url = <span class="hljs-string">&quot;http://www.cninfo.com.cn/new/data/szse_stock.json&quot;</span><br>ret = requests.get(url=url)<br>ret = ret.content<br>stock_list = json.loads(ret)[<span class="hljs-string">&quot;stockList&quot;</span>]<br><br><span class="hljs-comment"># 查看巨潮资讯网一共收录了多少家企业数据</span><br><span class="hljs-built_in">len</span>(stock_list)<br><br><span class="hljs-comment"># 输出stock_list中的前两项，查看一下列表中的具体数据形式</span><br><span class="hljs-built_in">print</span>(stock_list[:<span class="hljs-number">2</span>])<br><br><span class="hljs-comment">## Step4：用pandas把stock_list信息导出为本地Excel文件以便日后备用（可选）</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">export_excel</span>(<span class="hljs-params">export</span>):<br>    <span class="hljs-comment"># 将字典列表转换为DataFrame</span><br>    pf = pd.DataFrame(export)<br>    <span class="hljs-comment"># 指定字段顺序</span><br>    order = [<span class="hljs-string">&#x27;orgId&#x27;</span>, <span class="hljs-string">&#x27;category&#x27;</span>, <span class="hljs-string">&#x27;code&#x27;</span>, <span class="hljs-string">&#x27;pinyin&#x27;</span>, <span class="hljs-string">&#x27;zwjc&#x27;</span>]<br>    pf = pf[order]<br>    <span class="hljs-comment"># 将列名替换为中文</span><br>    columns_map = &#123;<br>        <span class="hljs-string">&#x27;orgId&#x27;</span>: <span class="hljs-string">&#x27;orgId（原始ID）&#x27;</span>,<br>        <span class="hljs-string">&#x27;category&#x27;</span>: <span class="hljs-string">&#x27;category（股市类型）&#x27;</span>,<br>        <span class="hljs-string">&#x27;code&#x27;</span>: <span class="hljs-string">&#x27;code（代码）&#x27;</span>,<br>        <span class="hljs-string">&#x27;pinyin&#x27;</span>: <span class="hljs-string">&#x27;pinyin（拼音）&#x27;</span>,<br>        <span class="hljs-string">&#x27;zwjc&#x27;</span>: <span class="hljs-string">&#x27;zwjc（）&#x27;</span><br>    &#125;<br>    pf.rename(columns=columns_map, inplace=<span class="hljs-literal">True</span>)<br>    <span class="hljs-comment"># 指定stock_list的存储路径（此处可自行更改）</span><br>    file_path = pd.ExcelWriter(Stocklist_path)<br>    <span class="hljs-comment"># 替换空单元格</span><br>    pf.fillna(<span class="hljs-string">&#x27; &#x27;</span>, inplace=<span class="hljs-literal">True</span>)<br>    <span class="hljs-comment"># 输出</span><br>    pf.to_excel(file_path, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>, index=<span class="hljs-literal">False</span>)<br>    <span class="hljs-comment"># 保存表格</span><br>    file_path.save()<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># 将分析完成的列表导出为excel表格</span><br>    export_excel(stock_list)<br><br><span class="hljs-comment">## Step5：从stock_list中提取code与orgId建立“code-orgId”匹配清单</span><br><br><span class="hljs-comment"># 提取stock_list中的code与orgId，遍历生成独立字典</span><br>code_dic = &#123;(it[<span class="hljs-string">&#x27;code&#x27;</span>]): it[<span class="hljs-string">&#x27;orgId&#x27;</span>] <span class="hljs-keyword">for</span> it <span class="hljs-keyword">in</span> stock_list&#125;<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n正在进行服务器数据库检索，共找到 &#123;&#125; 家上市公司！\n\n --------------------------------服务器数据比对工作完成，即将开始载入数据进行匹配！--------------------------------\n&quot;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-built_in">len</span>(code_dic)))<br><br><span class="hljs-comment"># 若要输出查看具体“code-orgId”匹配内容请取消注释此行</span><br><span class="hljs-comment"># print(code_dic)</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n --------------------------数据匹配完成，共生成 &#123;&#125; 家上市公司的“code-orgId”匹配数据！--------------------------\n&quot;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-built_in">len</span>(code_dic)))<br><br><br><br><span class="hljs-comment">## Step6：从Excel文件读取待爬取的股票清单并生成列表code_list</span><br><br><span class="hljs-comment"># 定义一个读取xls文件数据并转为列表的类</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">excel_read</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, excel_path=Codelist_path, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>, index=<span class="hljs-number">0</span></span>):  <span class="hljs-comment"># 待爬取企业清单路径</span><br>        <span class="hljs-comment">#       获取文本对象</span><br>        self.data = xlrd.open_workbook(excel_path)<br><span class="hljs-comment">#       根据index获取某个sheet</span><br>        self.table = self.data.sheets()[index]<br><span class="hljs-comment">#       获取当前sheet页面的总行数,把每一行数据作为list放到 list</span><br>        self.rows = self.table.nrows<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_data</span>(<span class="hljs-params">self</span>):<br>        result = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.rows):<br>            <span class="hljs-comment">#           获取每一行的数据</span><br>            col = self.table.row_values(i)<br>            <span class="hljs-comment"># print(col)</span><br>            result.append(col)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;待爬取企业已从xls文件中加载完毕，结果如下：\n &#123;&#125;\n&quot;</span>.<span class="hljs-built_in">format</span>(result))<br>        <span class="hljs-keyword">return</span> result<br><br><br><span class="hljs-comment"># 运用函数生成待爬取企业的code_list</span><br>code_list = []<br>code_list.extend(excel_read().get_data())<br><br><span class="hljs-comment"># Part2：正式工作</span><br><br><span class="hljs-comment">## Step1：定义爬取函数</span><br><br><span class="hljs-comment"># 1、对单个页面进行请求，并返回数据信息——通过data自定义特定企业</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_and_download_pdf_flie</span>(<span class="hljs-params">pageNum, stock, searchkey=<span class="hljs-string">&#x27;&#x27;</span>, category=<span class="hljs-string">&#x27;&#x27;</span>, seDate=<span class="hljs-string">&#x27;&#x27;</span></span>):<br>    url = <span class="hljs-string">&#x27;http://www.cninfo.com.cn/new/hisAnnouncement/query&#x27;</span><br>    pageNum = <span class="hljs-built_in">int</span>(pageNum)<br><span class="hljs-comment">#   定义表单数据</span><br>    data = &#123;<span class="hljs-string">&#x27;pageNum&#x27;</span>: pageNum,<br>            <span class="hljs-string">&#x27;pageSize&#x27;</span>: <span class="hljs-number">30</span>,<br>            <span class="hljs-string">&#x27;column&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>            <span class="hljs-string">&#x27;tabName&#x27;</span>: <span class="hljs-string">&#x27;fulltext&#x27;</span>,<br>            <span class="hljs-string">&#x27;plate&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>            <span class="hljs-string">&#x27;stock&#x27;</span>: stock,<br>            <span class="hljs-string">&#x27;searchkey&#x27;</span>: searchkey,<br>            <span class="hljs-string">&#x27;secid&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>            <span class="hljs-string">&#x27;category&#x27;</span>: category,<br>            <span class="hljs-string">&#x27;trade&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>            <span class="hljs-string">&#x27;seDate&#x27;</span>: seDate,<br>            <span class="hljs-string">&#x27;sortName&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>            <span class="hljs-string">&#x27;sortType&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>            <span class="hljs-string">&#x27;isHLtitle&#x27;</span>: <span class="hljs-string">&#x27;true&#x27;</span>&#125;<br><br><span class="hljs-comment">#   定义请求头</span><br>    headers = &#123;<span class="hljs-string">&#x27;Accept&#x27;</span>: <span class="hljs-string">&#x27;*/*&#x27;</span>,<br>               <span class="hljs-string">&#x27;Accept-Encoding&#x27;</span>: <span class="hljs-string">&#x27;gzip, deflate&#x27;</span>,<br>               <span class="hljs-string">&#x27;Accept-Language&#x27;</span>: <span class="hljs-string">&#x27;zh-CN,zh;q=0.9&#x27;</span>,<br>               <span class="hljs-string">&#x27;Connection&#x27;</span>: <span class="hljs-string">&#x27;keep-alive&#x27;</span>,<br>               <span class="hljs-string">&#x27;Content-Length&#x27;</span>: <span class="hljs-string">&#x27;181&#x27;</span>,<br>               <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/x-www-form-urlencoded; charset=UTF-8&#x27;</span>,<br>               <span class="hljs-string">&#x27;Host&#x27;</span>: <span class="hljs-string">&#x27;www.cninfo.com.cn&#x27;</span>,<br>               <span class="hljs-string">&#x27;Origin&#x27;</span>: <span class="hljs-string">&#x27;http://www.cninfo.com.cn&#x27;</span>,<br>               <span class="hljs-string">&#x27;Referer&#x27;</span>: <span class="hljs-string">&#x27;http://www.cninfo.com.cn/new/commonUrl/pageOfSearch?url=disclosure/list/search&#x27;</span>,<br>               <span class="hljs-string">&#x27;User-Agent&#x27;</span>: <span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.82 Safari/537.36&#x27;</span>,<br>               <span class="hljs-string">&#x27;X-Requested-With&#x27;</span>: <span class="hljs-string">&#x27;XMLHttpRequest&#x27;</span>&#125;<br><br><span class="hljs-comment">#   提交请求</span><br>    r = requests.post(url, data=data, headers=headers)<br><br><span class="hljs-comment">#   获取单页年报的数据，数据格式为json，解析并获取json中的年报信息</span><br>    result = r.json()[<span class="hljs-string">&#x27;announcements&#x27;</span>]<br><br><br><span class="hljs-comment"># 2.对数据信息进行提取</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> result:<br>        <span class="hljs-comment">#         避免下载一些年报摘要等不需要的文件</span><br>        <span class="hljs-keyword">if</span> re.search(<span class="hljs-string">&#x27;摘要&#x27;</span>, i[<span class="hljs-string">&#x27;announcementTitle&#x27;</span>]):<br>            <span class="hljs-keyword">pass</span><br>        <span class="hljs-keyword">else</span>:<br>            title = i[<span class="hljs-string">&#x27;announcementTitle&#x27;</span>]<br><br><span class="hljs-comment">#           获取公告文件名</span><br>            secName = i[<span class="hljs-string">&#x27;secName&#x27;</span>]<br><br><span class="hljs-comment">#           获取公司股票代码</span><br>            secCode = i[<span class="hljs-string">&#x27;secCode&#x27;</span>]<br><br><span class="hljs-comment">#           获取adjunctUrl，并组合生成pdf文件下载地址（分析得知巨潮资讯数据库pdf下载地址格式：http://static.cninfo.com.cn/+adjunctUrl）</span><br>            adjunctUrl = i[<span class="hljs-string">&#x27;adjunctUrl&#x27;</span>]<br>            down_url = <span class="hljs-string">&#x27;http://static.cninfo.com.cn/&#x27;</span>+adjunctUrl<br><br><span class="hljs-comment">#           定义下载之后需要保存到本地的文件名</span><br>            filename = <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;secCode&#125;</span><span class="hljs-subst">&#123;secName&#125;</span><span class="hljs-subst">&#123;title&#125;</span>.pdf&#x27;</span><br>    <br><span class="hljs-comment">#           用正则表达式将公告文件名中的特殊符号去掉，因为保存文件时命名规则不能带有某些特殊符号（比如*号），否则会导致程序报错</span><br>            filename = re.sub(<span class="hljs-string">r&#x27;[(*)(&lt;)(#)(\\)(|)(\&quot;)(?)(:)(/)(&lt;em#)(&lt;/em#)]&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, filename)<br><br><span class="hljs-comment">#           定义文件存放地址</span><br>            filepath = saving_path+<span class="hljs-string">&#x27;\\&#x27;</span>+filename<br><br><span class="hljs-comment">#           提交下载请求</span><br>            r = requests.get(down_url)<br><br><span class="hljs-comment">#           用response.content来写入文件信息</span><br>            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filepath, <span class="hljs-string">&#x27;wb&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>                f.write(r.content)<br><br><span class="hljs-comment">#           设置进度条</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;filename&#125;</span>下载完毕&#x27;</span>)<br><br><span class="hljs-comment">## Step2：自定义保存路径及确定待爬企业数量</span><br><br><span class="hljs-comment"># 设置存储年报文件的具体路劲</span><br>saving_path = Output_path<br><br><span class="hljs-comment"># 根据code_list计算待爬企业数量</span><br>Num = <span class="hljs-built_in">len</span>(code_list)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;待爬取企业总数量为：&#123;&#125;\n\n ------------------------------------已加载待爬取企业匹配信息，即将开始爬取数据！------------------------------------\n&quot;</span>.<span class="hljs-built_in">format</span>(Num))<br><br><span class="hljs-comment">## Step3：设定参数进行遍历爬取</span><br><br><span class="hljs-comment"># 从code_list中根据待爬企业数量遍历提取code与orgIdS</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, Num):<br>    code = code_list[i][<span class="hljs-number">0</span>]<br>    orgId = code_dic[code]<br><span class="hljs-comment">#     定义stock</span><br>    stock = <span class="hljs-string">&#x27;&#123;&#125;,&#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(code, orgId)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n即将爬取 &#123;&#125; ：&quot;</span>.<span class="hljs-built_in">format</span>(stock))<br><span class="hljs-comment">#     定义searchkey</span><br>    searchkey_A = Search_key<br><span class="hljs-comment">#     定义category</span><br>    category = Category_A<br><span class="hljs-comment">#     定义seDate</span><br>    seDate = SeDate_A<br><br><span class="hljs-comment">#     定义pageNum（需要通过观测，确保pageNum能够涵盖每一次遍历请求的结果页数，此处定为2页即可）</span><br>    <span class="hljs-keyword">for</span> pageNum <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>):<br>        <span class="hljs-keyword">try</span>:<br>            get_and_download_pdf_flie(<br>                pageNum, stock, searchkey_A, category, seDate,)<br>        <span class="hljs-keyword">except</span>:<br>            <span class="hljs-comment">#        超出页数后会报错，需要跳过异常以便于继续遍历执行</span><br>            <span class="hljs-keyword">pass</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-------------------------------------------------程序执行完成！-------------------------------------------------&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="从PDF提取文字">从PDF提取文字</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> PyPDF2 <br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">from</span> PyPDF2 <span class="hljs-keyword">import</span> PdfReader<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">extract</span>(<span class="hljs-params">file_path</span>) -&gt; <span class="hljs-built_in">str</span>:<br>    reader = PdfReader(file_path)<br><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;info.txxt&quot;</span>,mode=<span class="hljs-string">&quot;w&quot;</span>,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        <br><br>        <span class="hljs-comment">#逐页把提取出的数据保存到文件中</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-built_in">len</span>(reader.pages)):<br>            page = reader.pages[i]<br>            text = page.extract_text()<br>            <br>            f.write(text)<br>            <span class="hljs-comment">#print(text)</span><br>    <br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;info.txxt&quot;</span>,mode=<span class="hljs-string">&quot;r&quot;</span>,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> g:<br>        <br>        content = g.read()        <br>        <span class="hljs-keyword">return</span> content        <br>    <br>    <br>                <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    extract()<br></code></pre></td></tr></table></figure><h2 id="AI-api">AI api</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> google.generativeai <span class="hljs-keyword">as</span> genai<br><br><span class="hljs-comment"># 这里存放着Gemini的密钥</span><br>genai.configure(api_key=<span class="hljs-string">&quot;密钥&quot;</span>,transport=<span class="hljs-string">&#x27;rest&#x27;</span>)<br>model = genai.GenerativeModel(model_name = <span class="hljs-string">&quot;gemini-pro&quot;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">api_1</span>(<span class="hljs-params">request</span>) -&gt; <span class="hljs-built_in">str</span>:<br>   <br>    request_RawContent = <span class="hljs-built_in">str</span>(request)<br>    <br>    prompt = <span class="hljs-string">&quot;提示词部分&quot;</span><br>    response = model.generate_content(prompt+request_RawContent)<br>    <br>    <span class="hljs-keyword">return</span> response.text<br>        <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    api_1()<br></code></pre></td></tr></table></figure><h2 id="主程序">主程序</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> PdfExtract <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> GeminiApi1 <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_info_1</span>(<span class="hljs-params">file_path</span>) -&gt; <span class="hljs-built_in">str</span>:<br>    <br>    content = extract(file_path)<br>    <br>    info = api_1(content)<br>    <br>    <span class="hljs-built_in">print</span>(info)<br>    <br>    <span class="hljs-keyword">return</span> info<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    path = <span class="hljs-string">&quot;./全部文档/&quot;</span><br>    file_list = os.listdir(path)<br>    num = <span class="hljs-built_in">len</span>(file_list)<br><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,num):<br>        file_path = path + file_list[i]<br>        <span class="hljs-built_in">print</span>(file_path + <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;i&#125;</span>/<span class="hljs-subst">&#123;num&#125;</span>&quot;</span>)<br><br>        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;data.txt&quot;</span>,mode=<span class="hljs-string">&quot;a&quot;</span>,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> data:<br>            <span class="hljs-keyword">try</span>:<br>                content = get_info_1(file_path)<br>                data.writelines(content + <span class="hljs-string">&quot;,&quot;</span> + <span class="hljs-string">&quot;\n&quot;</span>)<br>            <span class="hljs-keyword">except</span>:<br>                <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;error.txt&quot;</span>,mode=<span class="hljs-string">&quot;a&quot;</span>,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> error:<br>                    error.writelines(file_path + <span class="hljs-string">&quot;\n&quot;</span> )<br>                time.sleep(<span class="hljs-number">30</span>)<br>                <span class="hljs-keyword">continue</span><br>                <br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;error.txt&quot;</span>,mode=<span class="hljs-string">&quot;r&quot;</span>,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> error :<br>    <br>        lines = error.read().splitlines()<br>        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:<br><br>            file_path = line<br>            <span class="hljs-built_in">print</span>(file_path)<br>            <span class="hljs-keyword">try</span>:<br>                <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;data.txt&quot;</span>,mode=<span class="hljs-string">&#x27;a&#x27;</span>,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> data:<br>                    content = get_info_1(file_path)<br>                    data.writelines(content + <span class="hljs-string">&quot;,&quot;</span> + <span class="hljs-string">&quot;\n&quot;</span>)<br>            <span class="hljs-keyword">except</span>:<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;error&quot;</span>)<br>                time.sleep(<span class="hljs-number">5</span>)<br>                <span class="hljs-keyword">continue</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>code_learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>我的Chromebook</title>
    <link href="/2023/12/18/chromebook/"/>
    <url>/2023/12/18/chromebook/</url>
    
    <content type="html"><![CDATA[<h2 id="我的Chromebook">我的Chromebook</h2><p>买前生产力,买后桌面摆件</p><p><img src="desk.jpg"></p><p>显示效果很不错</p><p><img src="main.jpg"></p><h2 id="关于它">关于它</h2><p>是从一位北大佬手里收的,四舍五入我也是北大的了:)</p><p><img src="screen.jpg"></p><p>处理器是mt8183,性能拿来当摆件非常够用,还能拿来上课</p>]]></content>
    
    
    
    <tags>
      
      <tag>life_record</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>whisper &amp; Gemini</title>
    <link href="/2023/12/13/ai/"/>
    <url>/2023/12/13/ai/</url>
    
    <content type="html"><![CDATA[<h2 id="Gemini">Gemini</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">import</span> google.generativeai <span class="hljs-keyword">as</span> genai<br><br><br>genai.configure(api_key=<span class="hljs-string">&quot;这里填密钥&quot;</span>,transport=<span class="hljs-string">&#x27;rest&#x27;</span>)<br><br><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">------list models,you can switch------</span><br><span class="hljs-string">gemini-pro</span><br><span class="hljs-string">gemini-pro-vision</span><br><span class="hljs-string">--------------------------------------</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span>  <br><br>model = genai.GenerativeModel(model_name = <span class="hljs-string">&quot;gemini-pro&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">gemini_chat</span>(<span class="hljs-params">model</span>):<br>    chat = model.start_chat(history=[])<br>    <br>    <br>    condition = <span class="hljs-literal">True</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;prompt：press \&quot;n\&quot; to start a new conversion,and \&quot;q\&quot;to exit&quot;</span>)<br>    <span class="hljs-keyword">while</span> condition:<br>        input_content = <span class="hljs-built_in">str</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;you: &quot;</span>))<br>        <br>        <span class="hljs-keyword">if</span> input_content == <span class="hljs-string">&quot;n&quot;</span>:<br>            condition = <span class="hljs-literal">False</span><br>            gemini_chat(model)<br>        <span class="hljs-keyword">elif</span> input_content == <span class="hljs-string">&quot;q&quot;</span>:<br>            condition = <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">else</span>: <br>            <span class="hljs-keyword">try</span>:  <br>                 <br>                response = chat.send_message(input_content)<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;--------------------------------------------&quot;</span>)<br>                <br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;gemini:<span class="hljs-subst">&#123;response.text&#125;</span>&quot;</span>)<br>                <br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;--------------------------------------------&quot;</span>)<br>                <br>            <span class="hljs-keyword">except</span>:<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;prompt：error in your input&quot;</span>)<br>                <span class="hljs-keyword">continue</span> <br>            <br>        <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    gemini_chat(model)<br></code></pre></td></tr></table></figure><h2 id="OpenAI-的言语模型">OpenAI 的言语模型</h2><p>最近发现了<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mi>g</mi><mi>m</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">ggml</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">gg</span><span class="mord mathnormal">m</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span>这个基于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi><mi>f</mi><mi>o</mi><mi>r</mi><mi>m</mi><mi>e</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">transformer</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">an</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.02778em;">or</span><span class="mord mathnormal">m</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span></span></span></span>的语音模型,它是ChatGPT的亲兄弟,知名度却没有ChatGPT那么高</p><p>它非常强大,可以根据音频生成字幕,准确度非常高.</p><p>模型<a href="https://huggingface.co/spaces/openai/whisper">地址</a></p><p>不仅支持多国语言还能实时翻译.</p><p>whisper是官方的命令行工具,有一个开源项目给它制作了GUI</p><h3 id="使用">使用</h3><p>在安装软件之前,需要先下载训练好的语音模型,<a href="https://huggingface.co/ggerganov/whisper.cpp/tree/main">模型下载</a></p><p><img src="屏幕截图 2023-12-13 161201.png" srcset="/img/loading.gif" lazyload alt></p>  <p>选择<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mi>g</mi><mi>m</mi><mi>l</mi><mo>−</mo><mi>m</mi><mi>e</mi><mi>d</mi><mi>i</mi><mi>u</mi><mi>m</mi><mi mathvariant="normal">.</mi><mi>b</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">ggml-medium.bin</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">gg</span><span class="mord mathnormal">m</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord">.</span><span class="mord mathnormal">bin</span></span></span></span> 并下载</p><h2 id="GUI">GUI</h2><p>下载<a href="https://github.com/Const-me/Whisper">whisper_desktop</a></p><p>打开后选择已经下好的模型并调整GPU配置就可以使用了.</p><p>注意文件得是mpeg格式</p><h3 id="实测">实测</h3><p>以<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo><mo>&lt;</mo><mtext>小森林</mtext><mo>&gt;</mo><mo>&gt;</mo><mtext>夏秋篇</mtext></mrow><annotation encoding="application/x-tex">&lt;&lt;小森林&gt;&gt;夏秋篇</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord cjk_fallback">小森林</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">夏秋篇</span></span></span></span>为例</p><p><img src="屏幕截图 2023-12-13 162236.png" srcset="/img/loading.gif" lazyload alt> </p><p>处理完成后便得到了带时间轴的字幕,已经被翻译好了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mark">[00:01:02.000 --&gt; 00:01:08.000]  Komori is a small village in a village in the Tohoku region.<br>[00:01:08.000 --&gt; 00:01:14.000]  There are no shops, and if you go shopping, you can get to the center of the village with a place to stay.<br>[00:01:14.000 --&gt; 00:01:18.000]  There are several small supermarkets and shops in the village.<br>[00:01:18.000 --&gt; 00:01:24.000]  The train is almost down, so it takes about 30 minutes by bicycle.<br>[00:01:24.000 --&gt; 00:01:26.000]  How long will it take to get home?<br>[00:01:26.000 --&gt; 00:01:30.000]  Winter is a time for snow.<br>[00:01:30.000 --&gt; 00:01:34.000]  It takes about an hour and a half to get there.<br>[00:01:34.000 --&gt; 00:01:40.000]  Most people go shopping to the big supermarkets in the neighborhood.<br>[00:01:40.000 --&gt; 00:01:46.000]  If I go there, it will take almost a day.<br></code></pre></td></tr></table></figure><p>再试一首歌,是milet的bliss,这次不翻译</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs mark">[00:00:00.000 --&gt; 00:00:06.500]  (♪~ 音楽)<br>[00:00:06.500 --&gt; 00:00:13.340]  私を守るこの名前を<br>[00:00:13.340 --&gt; 00:00:20.680]  優しく呼んだその声が<br>[00:00:20.680 --&gt; 00:00:27.920]  一人寂しく目を閉じるよ<br>[00:00:27.920 --&gt; 00:00:35.100]  あなたを包んで<br>[00:00:35.100 --&gt; 00:00:42.300]  柔らかなその手<br>[00:00:42.300 --&gt; 00:00:51.880]  忘れるよ 無数の夜を越えて<br>[00:00:51.880 --&gt; 00:01:02.680]  離れに散って あなたのもとへ帰るでしょう<br>[00:01:02.680 --&gt; 00:01:10.320]  夢に押さえて 闇を解いて<br>[00:01:10.320 --&gt; 00:01:18.500]  夢の中は 色立ち<br>[00:01:18.500 --&gt; 00:01:25.480]  青く続く道を<br>[00:01:27.480 --&gt; 00:01:32.480]  (♪~ 音楽)<br><br></code></pre></td></tr></table></figure><p>效果很不错</p><p>上面两个用的是中等大小的模型,实测小模型效果也不错</p>]]></content>
    
    
    
    <tags>
      
      <tag>tools</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>数分笔记</title>
    <link href="/2023/12/01/notes/"/>
    <url>/2023/12/01/notes/</url>
    
    <content type="html"><![CDATA[<h2 id="一些题">一些题</h2><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left right" columnspacing="0em 1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>设函数</mtext><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>在</mtext><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo><mtext>上</mtext><msup><mi>f</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>存在</mtext><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mtext>而</mtext><mi>F</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>x</mi><mn>3</mn></msup><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>证明</mtext><mi mathvariant="normal">∃</mi><mi>ξ</mi><mo lspace="0em" rspace="0em">∈</mo><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mo separator="true">,</mo><mtext>使得</mtext><msup><mi>F</mi><msup><mrow></mrow><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup></msup><mrow><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo></mrow><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>证明</mtext><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>F</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>x</mi><mn>3</mn></msup><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>在</mtext><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mtext>上连续可导，且</mtext><mi>F</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mi>f</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mi>F</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mi>f</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msup><mi>F</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>3</mn><mi>f</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>+</mo><mn>0</mn><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>又</mtext><msup><mi>F</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msub><mi>ξ</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mtext>故</mtext><mi mathvariant="normal">∃</mi><msub><mi>ξ</mi><mn>2</mn></msub><mo lspace="0em" rspace="0em">∈</mo><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><msub><mi>ξ</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><mo separator="true">,</mo><mtext>使得</mtext><msup><mi>F</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><msub><mi>ξ</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msup><mi>F</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>6</mn><msup><mi>x</mi><mn>2</mn></msup><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><mn>6</mn><msup><mi>x</mi><mn>2</mn></msup><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><msup><mi>x</mi><mn>3</mn></msup><msup><mi>f</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msup><mi>F</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>故</mtext><msup><mi>F</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><msub><mi>ξ</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mtext>故</mtext><mi mathvariant="normal">∃</mi><mi>ξ</mi><mo>∈</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><msub><mi>ξ</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>有</mtext><msup><mi>F</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mspace width="1em"><mi mathvariant="normal">□</mi></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>设</mtext><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>在</mtext><mrow><mo stretchy="false">[</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">]</mo></mrow><mtext>上连续</mtext><mo separator="true">,</mo><mtext>在</mtext><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mtext>上可导</mtext><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>证明</mtext><mi mathvariant="normal">∃</mi><mi>ξ</mi><mo>∈</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>使得</mtext><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mi>f</mi><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>证明</mtext><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>设</mtext><mi>F</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><msup><mi>e</mi><mi>x</mi></msup><mo separator="true">,</mo><mtext>则</mtext><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>在</mtext><mo stretchy="false">[</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">]</mo><mtext>上连续</mtext><mo separator="true">,</mo><mtext>在</mtext><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mtext>上可导</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>F</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><msup><mi>e</mi><mi>a</mi></msup><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mi>F</mi><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo><msup><mi>e</mi><mi>b</mi></msup><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>由罗尔定理</mtext><mi mathvariant="normal">∃</mi><mi>ξ</mi><mo>∈</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mtext>使得</mtext><msup><mi>F</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>而</mtext><msup><mi>F</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><msup><mi>e</mi><mi>x</mi></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msup><mi>F</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo>+</mo><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><msup><mi>e</mi><mi>ξ</mi></msup><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>可得</mtext><mi>f</mi><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mspace width="1em"><mi mathvariant="normal">□</mi></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>设</mtext><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>和</mtext><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>在</mtext><mo stretchy="false">[</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">]</mo><mtext>上连续</mtext><mo separator="true">,</mo><mtext>在</mtext><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mtext>上可导</mtext><mo separator="true">,</mo><mtext>且</mtext><mi>f</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>证明</mtext><mi mathvariant="normal">∃</mi><mi>ξ</mi><mo>∈</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>使得</mtext><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo>+</mo><mi>f</mi><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><msup><mi>g</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>证明</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>F</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><msup><mi>e</mi><mi>g</mi></msup><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mi>F</mi><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo><msup><mi>e</mi><mi>g</mi></msup><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>故由罗尔定理</mtext><mi mathvariant="normal">∃</mi><mi>ξ</mi><mo>∈</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mtext>使得</mtext><msup><mi>F</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msup><mi>F</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><msup><mi>e</mi><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></msup><mo>+</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><msup><mi>e</mi><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></msup><msup><mi>g</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="1em"><mspace width="1em"><mspace width="1em"><mo>=</mo><msup><mi>e</mi><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">[</mo><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><msup><mi>g</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mspace></mspace></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>即</mtext><msup><mi>e</mi><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">[</mo><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo>+</mo><mi>f</mi><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><msup><mi>g</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>有</mtext><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo>+</mo><mi>f</mi><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><msup><mi>g</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mspace width="1em"><mi mathvariant="normal">□</mi></mspace></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin {align*} &amp;(1)\\&amp;设函数 f(x)在[0,1] 上f&#x27;&#x27;&#x27;(x)  存在 , f(1)=0 , 而F(x)= x^3f(x) \\&amp;证明\exists {\xi}{\in}{(0,1)},使得 {F^{&#x27;&#x27;&#x27;}}{(\xi)}= 0 \\\\\\\\&amp;证明:\\&amp;F(x)= x^3f(x)在(0,1)上连续可导，且F(0)=0f(0)=0,F(1)= 1f(1)= 0 \\\\&amp;F&#x27;(0)= 3f(0)+0 = 0\\\\&amp;又F&#x27;({\xi_1})= 0 , 故  \exists {\xi_2}{\in} {(0,{\xi_1})}, 使得F&#x27;&#x27;(\xi_2)= 0\\\\&amp;F&#x27;&#x27;(x)= 6x^2f(x)+ 6x^2 f&#x27;(x)+ x^3f&#x27;&#x27;(x) , F&#x27;&#x27;(0) = 0 \\ \\&amp;故F&#x27;&#x27;(\xi_2)= 0 ,  故\exists \xi \in (0,\xi_2) ,  有F&#x27;&#x27;&#x27;(\xi) = 0 \quad \Box\\\\\\&amp;(2)&amp;\\&amp;设f(x)在{[a,b]}上连续,在(a,b)上可导,f(a)= f(b) = 0 \\\\&amp;证明\exists \xi \in ( a, b),  使得 f&#x27;(\xi) = - f(\xi)\\\\\\&amp;证明:\\&amp;设F(x)= f(x)e^{x}, 则 f(x)在 [a,b]上连续,在(a,b)上可导\\\\&amp;F(a)= f(a)e^a = 0 , F(b) = f(b)e^b = 0\\\\&amp;由罗尔定理 \exists \xi \in ( a,b) 使得 F&#x27; (\xi) = 0\\\\&amp;而F&#x27;(x)= (f(x)+ f&#x27;(x))e^x \\\\&amp;F&#x27;(\xi)= (f(\xi) +f&#x27;(\xi ))e^ \xi = 0    \\\\&amp;可得 f(\xi) = -f&#x27;(\xi) \quad \Box\\\\\\&amp;(3)&amp;\\&amp;设 f(x)和g (x)在[a,b]上连续,在(a,b)上可导,且 f(a)=f(b)= 0 \\\\&amp;证明 \exists \xi \in (a,b),使得 f&#x27; (\xi)+ f(\xi)g&#x27;(\xi) = 0\\\\\\&amp;证明\\&amp;F(a) = f(a)e^g(a)= 0 ,F(b) = f(b)e^g(b)= 0 \\\\&amp;故由罗尔定理 \exists \xi \in (a,b)使得F&#x27;(\xi) = 0\\\\&amp;F&#x27;(x) = f&#x27;(x)e^{g(x)} + f(x)e^{g(x)}g&#x27;(x)\\\\&amp;\quad\quad\quad= e^{g(x)}[f&#x27;(x)+ f(x)g&#x27;(x)]\\ \\&amp;即e^{g(\xi)}[f&#x27;(\xi) + f(\xi)g&#x27;(\xi)] = 0 \\ \\&amp; 有f&#x27;(\xi)+ f(\xi)g&#x27;(\xi) = 0 \quad \Box\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:84.637em;vertical-align:-42.0685em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:42.5685em;"><span style="top:-44.721em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-43.1969em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-41.5444em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-40.0444em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-38.5444em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-37.0444em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-35.5444em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-34.0203em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-32.5203em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-31.0203em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-29.5203em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-28.0203em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-26.5203em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-24.9962em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-23.4962em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-21.9962em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-20.4962em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-18.9962em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-17.4962em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-15.9962em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-14.4962em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-12.9962em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-11.4962em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-9.9962em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-8.4962em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-6.9962em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-5.4962em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-3.9371em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-2.4371em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-0.9371em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:0.5629em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:2.0629em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:3.5629em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:5.122em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:6.622em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:8.122em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:9.622em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:11.122em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:12.622em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:14.122em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:15.622em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:17.122em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:18.622em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:20.122em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:21.622em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:23.122em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:24.622em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:26.122em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:27.622em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:29.22em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:30.72em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:32.318em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:33.818em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:35.416em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:36.916em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:38.416em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:42.0685em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:42.5685em;"><span style="top:-44.7285em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-43.2044em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">设函数</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord cjk_fallback">在</span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mord cjk_fallback">上</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord cjk_fallback">存在</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">而</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-41.5519em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">证明</span><span class="mord">∃</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span></span><span class="mord"><span class="mrel">∈</span></span><span class="mord"><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">使得</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-2.9925em;margin-right:0.05em;"><span class="pstrut" style="height:2.5795em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′′′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:-35.5519em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">证明</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-34.0278em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord cjk_fallback">在</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord cjk_fallback">上连续可导，且</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:-31.0278em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:-28.0278em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">又</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.046em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">故</span><span class="mord">∃</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.046em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mord"><span class="mrel">∈</span></span><span class="mord"><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.046em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mclose">)</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">使得</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.046em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:-25.0037em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">6</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">6</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:-22.0037em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">故</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.046em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">故</span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.046em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">有</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:1em;"></span><span class="mord amsrm">□</span></span></span><span style="top:-17.5037em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mopen">(</span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:-16.0037em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">设</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord cjk_fallback">在</span><span class="mord"><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">]</span></span><span class="mord cjk_fallback">上连续</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">在</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mord cjk_fallback">上可导</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:-13.0037em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">证明</span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">使得</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span></span></span><span style="top:-8.5037em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">证明</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-7.0037em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">设</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">则</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord cjk_fallback">在</span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">]</span><span class="mord cjk_fallback">上连续</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">在</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mord cjk_fallback">上可导</span></span></span><span style="top:-3.9446em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:-0.9446em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">由罗尔定理</span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mord cjk_fallback">使得</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:2.0554em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">而</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">))</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span></span><span style="top:5.1145em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">))</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04601em;">ξ</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:8.1145em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">可得</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">−</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mspace" style="margin-right:1em;"></span><span class="mord amsrm">□</span></span></span><span style="top:12.6145em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mopen">(</span><span class="mord">3</span><span class="mclose">)</span></span></span><span style="top:14.1145em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">设</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord cjk_fallback">和</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord cjk_fallback">在</span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">]</span><span class="mord cjk_fallback">上连续</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">在</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mord cjk_fallback">上可导</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">且</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:17.1145em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">证明</span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">使得</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:21.6145em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">证明</span></span></span><span style="top:23.1145em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:26.1145em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">故由罗尔定理</span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mord cjk_fallback">使得</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:29.2125em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:32.3105em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)]</span></span></span><span style="top:35.4085em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">即</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.04601em;">ξ</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:38.4085em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">有</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:1em;"></span><span class="mord amsrm">□</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:42.0685em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:15.3437em;"><span style="top:-17.3437em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:12.7745em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:16.2745em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h2 id="更新记录">更新记录</h2><p>修改了部分错误,优化了排版</p>]]></content>
    
    
    
    <tags>
      
      <tag>math</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>latex插入公式&amp;排版</title>
    <link href="/2023/11/27/latex/"/>
    <url>/2023/11/27/latex/</url>
    
    <content type="html"><![CDATA[<h2 id="为blog添加latex支持">为blog添加latex支持</h2><p>Hexo 默认的 Markdown 渲染器不支持复杂公式，所以需要更换渲染器。</p><p>首先要在主题的配置文件中启用math,设置其值为true,然后更换渲染器为katex</p><p>katex的渲染速度要快一些,并且在移动设备上有更好的兼容性</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">post:</span><br>  <span class="hljs-attr">math:</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">specific:</span> <span class="hljs-literal">false</span><br>    <span class="hljs-attr">engine:</span> <span class="hljs-string">katex</span><br></code></pre></td></tr></table></figure><p>若设置speicfic为 true,则需要在文章开头添加math: true</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs markdown">title: latex<span class="hljs-emphasis">_support</span><br><span class="hljs-emphasis">date: 2023-11-27 22:08:39</span><br><span class="hljs-emphasis">tags: math</span><br><span class="hljs-emphasis">math: true</span><br></code></pre></td></tr></table></figure><p>安装katex渲染器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm uninstall hexo-renderer-marked --save<br>npm install hexo-renderer-markdown-it --save<br>npm install @traptitech/markdown-it-katex --save<br></code></pre></td></tr></table></figure><p>完成后在站点配置中添加：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">markdown:</span><br>  <span class="hljs-attr">plugins:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;@traptitech/markdown-it-katex&quot;</span><br></code></pre></td></tr></table></figure><p><a href="https://fluid-dev.github.io/hexo-fluid-docs/guide/#latex-%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F">参考fluid的配置说明</a></p><h2 id="latex的排版">latex的排版</h2><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\begin</span>&#123;align*&#125; <span class="hljs-params">##</span>align表示对齐,不带*会自动标注公式序号,falign可以进行左对齐,一般还是align<br><span class="hljs-built_in">&amp;</span><span class="hljs-keyword">\\</span> <span class="hljs-params">##</span>进行对齐,<span class="hljs-built_in">&amp;</span>为对齐操作符<br><span class="hljs-built_in">&amp;</span>content1 <span class="hljs-keyword">\tag</span>&#123;1&#125; <span class="hljs-keyword">\\</span>  <span class="hljs-params">##</span>tag&#123;1&#125;可以标注序号1<br><span class="hljs-keyword">\\</span>  <span class="hljs-params">##</span>&quot;<span class="hljs-keyword">\\</span>&quot;可以换行<br><span class="hljs-built_in">&amp;</span> <span class="hljs-keyword">\quad</span> content2   <span class="hljs-params">##</span>quad 可以缩进<br><span class="hljs-keyword">\\</span><br><span class="hljs-built_in">&amp;</span> <span class="hljs-keyword">\boxed</span> &#123;f(x) = e<span class="hljs-built_in">^</span>g(x)&#125;  <span class="hljs-keyword">\\</span> <span class="hljs-params">##</span> <span class="hljs-keyword">\boxed</span> 命令可以表示公式框<br><br><span class="hljs-keyword">\end</span>&#123;align*&#125;<span class="hljs-params">##</span>结尾同样要用相同的操作符<br></code></pre></td></tr></table></figure><p>值得注意的是,写latex格式的时候建议仔细检查错误,避免出现一个&quot;}&quot;没了找半天错的尴尬情况</p>]]></content>
    
    
    
    <tags>
      
      <tag>math</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>code</title>
    <link href="/2023/11/23/code/"/>
    <url>/2023/11/23/code/</url>
    
    <content type="html"><![CDATA[<h2 id="七选五的C-Sharp版本">七选五的C-Sharp版本</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs c#"><span class="hljs-keyword">using</span> RandomList.Core;<br><br><span class="hljs-keyword">namespace</span> <span class="hljs-title">learn</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Constants</span><br>    &#123;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;<span class="hljs-built_in">int</span>&gt; right = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">int</span>&gt; &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> &#125;;<br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> RandomList&lt;<span class="hljs-built_in">int</span>&gt; <span class="hljs-title">generate</span>()</span><br>        &#123;<br>            <span class="hljs-keyword">var</span> randomList = <span class="hljs-keyword">new</span> RandomList&lt;<span class="hljs-built_in">int</span>&gt; &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span> &#125;;<br>            randomList.Randomize();<br><br>            <span class="hljs-keyword">return</span> randomList;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;<span class="hljs-built_in">int</span>&gt; <span class="hljs-title">RandomList_processed</span>()</span><br>        &#123;<br><br>            <span class="hljs-keyword">var</span> temp = generate();<br>            <span class="hljs-keyword">var</span> sample = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">int</span>&gt;();<br><br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++)<br>            &#123;<br>                <span class="hljs-built_in">int</span> element = temp[i];<br>                sample.Add(element);<br>            &#125;<br>            <span class="hljs-keyword">return</span> sample;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Compute</span><br>    &#123;<br><br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main_compute</span>()</span><br><br>        &#123;<br>            <span class="hljs-built_in">long</span> n = <span class="hljs-number">10000000</span>;<br>            <span class="hljs-built_in">int</span> b = <span class="hljs-number">0</span>;<br><br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>            &#123;<br><br>                <span class="hljs-built_in">int</span> a = <span class="hljs-number">0</span>;<br><br>                <span class="hljs-keyword">var</span> standard = Constants.right;<br><br>                List&lt;<span class="hljs-built_in">int</span>&gt; random_sample = Constants.RandomList_processed();<br><br>                <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">5</span>; j++)<br>                &#123;<br>                    <span class="hljs-built_in">int</span> right = standard[j];<br>                    <span class="hljs-built_in">int</span> test = random_sample[j];<br><br>                    <span class="hljs-keyword">if</span> (right  ==  test)<br>                    &#123;<br>                        a++;<br>                    &#125;<br><br>                &#125;<br>                <span class="hljs-keyword">if</span> (a == <span class="hljs-number">0</span>) &#123; b++; Console.WriteLine(b); &#125;<br>            &#125;<br><br>                <span class="hljs-built_in">double</span> resuslt = (<span class="hljs-built_in">double</span>)b / n;<br>                Console.WriteLine(resuslt);<br><br>            &#125;<br>        &#125;<br>    &#125;<br><br><br></code></pre></td></tr></table></figure><p>基础逻辑与之前的python版本没变，就翻译了一下。</p><p>学了一阵C#，最大的感受是C#很优雅，对数据的类型有严格的要求。各种编程语言的本质都一样，就是对数据的操作罢了。</p><h2 id="numpy-2048">numpy &amp; 2048</h2><p>numpy是python的一个用于数组操作的库</p><p>数组和矩阵差不多,或者是说矩阵就是一个数组</p><p>在numpy中,创建一个数组</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br>array_zero = np.zeros([<span class="hljs-number">4</span>,<span class="hljs-number">4</span>])<span class="hljs-comment"># 创建一个4*4的零数组</span><br><span class="hljs-built_in">print</span>(array)<br>显示   [ [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]<br>     [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]<br>     [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]<br>     [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]]<br>array_one = np.eye(<span class="hljs-number">4</span>) <span class="hljs-comment">#创建一个4维的单位矩阵</span><br><span class="hljs-built_in">print</span>(array_one)<br>显示   [ [<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]<br>      [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]<br>[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>]<br>       [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>]]<br>new_arr = np.array([[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>]]) <span class="hljs-comment">#也可以自己输入一个数组</span><br><span class="hljs-built_in">print</span>(new_arr)<br>显示   [[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]<br>     [<span class="hljs-number">2</span>,<span class="hljs-number">4</span>]]<br><br></code></pre></td></tr></table></figure><p>有了数组,我们可以对它进行修改</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">array_one[row][column] = value <span class="hljs-comment">#修改数组某行某列的值</span><br><br>array_one[:,column] = array_input <span class="hljs-comment">#修改一列的的值</span><br><br>array_one[row,:] = array_input1 <span class="hljs-comment">#修改某一列的值</span><br><br>harray = np.hsplit(array_one,<span class="hljs-number">4</span>) <span class="hljs-comment">#将array_one水平分割为4个数组</span><br><br>varray = np.vsplit(array_one,<span class="hljs-number">4</span>) <span class="hljs-comment">#垂直分割为4块</span><br><br>integrated_arr = np.concatenate(one_arr,another_arr) <span class="hljs-comment">#合并两个数组</span><br><br></code></pre></td></tr></table></figure><p>还可以读取数组中指定的元素,或者对元素进行操作</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">arr = array_one[row][column] <span class="hljs-comment">#指定行和列</span><br><br>zero_elements = arr[arr == <span class="hljs-number">0</span>].flatten() <span class="hljs-comment">#将数组展平后读取为零的元素,也可以指定条件</span><br><br>iter_array = arr.flatten() <span class="hljs-comment">#展平数组,这样就可以对获得一维数组中的元素进行迭代</span><br><br>sorted_array = np.sort(iter_array) <span class="hljs-comment">#排序,这里有多个参数可填,参考官方的说明 </span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">(function) def sort(</span><br><span class="hljs-string">    a: _ArrayLike[_SCT@sort],</span><br><span class="hljs-string">    axis: SupportsIndex | None = ...,</span><br><span class="hljs-string">    kind: _SortKind | None = ...,</span><br><span class="hljs-string">    order: str | Sequence[str] | None = ...</span><br><span class="hljs-string">) -&gt; NDArray[_SCT@sort]</span><br><span class="hljs-string">Return a sorted copy of an array.</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><p>一些其他的操作</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">array  = np.rot90(arr, -<span class="hljs-number">1</span>) <span class="hljs-comment">#-1为逆时针旋转90度,-2就是180度了</span><br>array = np.rot90(arr, <span class="hljs-number">1</span>) <span class="hljs-comment">#1 为反方向转,这样就转回来了</span><br></code></pre></td></tr></table></figure><p>有了这些,就可以用numpy打造一个简单的2048了</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> random <span class="hljs-keyword">as</span> rd<br><span class="hljs-keyword">import</span> keyboard<br><span class="hljs-keyword">import</span> warnings<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br>warnings.filterwarnings(<span class="hljs-string">&#x27;ignore&#x27;</span>) <span class="hljs-comment"># 忽略numpy的警告</span><br><br><br><span class="hljs-keyword">global</span> game_array     <br>game_array = np.zeros([<span class="hljs-number">4</span>,<span class="hljs-number">4</span>])<br>fixed_number = [<span class="hljs-number">2</span>,<span class="hljs-number">4</span>]<br>random_list = [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>]<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">basic_operate</span>(<span class="hljs-params">array</span>):    <span class="hljs-comment"># 默认向下</span><br>    <span class="hljs-comment">#获取按列分割的数组,并进行迭代</span><br>    process_array = np.hsplit(array,<span class="hljs-number">4</span>)<br>    collapse = np.zeros([<span class="hljs-number">4</span>,<span class="hljs-number">4</span>])<br>    <span class="hljs-comment">#print(process_array)    # OK</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]:  <span class="hljs-comment"># i 为列标号</span><br>        <span class="hljs-comment">#进行零元排序,把0都放在左边</span><br>        arr = process_array[i]<br>        <span class="hljs-comment"># 将非零元素和零元素分别提取并排序</span><br>        non_zero_elements = arr[arr != <span class="hljs-number">0</span>].flatten()<br>        zero_elements = arr[arr == <span class="hljs-number">0</span>].flatten()<br><br>        <span class="hljs-comment"># 合并排序后的非零元素和零元素</span><br>        sorted_arr = np.concatenate((zero_elements, non_zero_elements))<br><br>        <span class="hljs-comment"># 将结果重新整形成原始数组的形状</span><br>        sorted_arr = sorted_arr.reshape(arr.shape)<br>        <br>        <br>        sub = sorted_arr<br>        a = sub[<span class="hljs-number">0</span>] == sub[<span class="hljs-number">1</span>]<br>        b = sub[<span class="hljs-number">1</span>] == sub[<span class="hljs-number">2</span>]<br>        c = sub[<span class="hljs-number">2</span>] == sub[<span class="hljs-number">3</span>]<br>        d = sub[<span class="hljs-number">0</span>] != sub[<span class="hljs-number">1</span>] <span class="hljs-keyword">and</span> sub[<span class="hljs-number">1</span>] != sub[<span class="hljs-number">2</span>] <span class="hljs-keyword">and</span> sub[<span class="hljs-number">2</span>] != sub [<span class="hljs-number">3</span>]<br>         <span class="hljs-comment"># 这里很有优化空间,我用的方法是枚举,更好的办法是从后往前迭代,从前往后赋值,这里懒得改了  </span><br>         <span class="hljs-comment"># 好的方法千篇一律,这里的也算创新吧</span><br>        <span class="hljs-keyword">if</span> a :<br>                <span class="hljs-keyword">if</span> a <span class="hljs-keyword">and</span> b <span class="hljs-keyword">and</span> c :  <span class="hljs-comment">#[2,2,2,2] -&gt; [0,0,4,4]</span><br>                    collapse[<span class="hljs-number">0</span>][i] = <span class="hljs-number">0</span><br>                    collapse[<span class="hljs-number">1</span>][i] = <span class="hljs-number">0</span><br>                    collapse[<span class="hljs-number">2</span>][i] = sub[<span class="hljs-number">0</span>] *<span class="hljs-number">2</span><br>                    collapse[<span class="hljs-number">3</span>][i] = sub[<span class="hljs-number">2</span>] *<span class="hljs-number">2</span><br>                    <br>                <span class="hljs-keyword">elif</span> a <span class="hljs-keyword">and</span> b :      <span class="hljs-comment">#[2,2,2,4] -&gt; [0,2,4,4]</span><br>                    collapse[<span class="hljs-number">0</span>][i] = <span class="hljs-number">0</span><br>                    collapse[<span class="hljs-number">1</span>][i] = sub[<span class="hljs-number">0</span>]<br>                    collapse[<span class="hljs-number">2</span>][i] = sub[<span class="hljs-number">1</span>] + sub[<span class="hljs-number">2</span>]<br>                    collapse[<span class="hljs-number">3</span>][i] = sub[<span class="hljs-number">3</span>]<br>    <br>                <span class="hljs-keyword">elif</span> a <span class="hljs-keyword">and</span> c :      <span class="hljs-comment">#[2,2,4,4] -&gt; [0,0,4,8]</span><br>                    collapse[<span class="hljs-number">0</span>][i] = <span class="hljs-number">0</span><br>                    collapse[<span class="hljs-number">1</span>][i] = <span class="hljs-number">0</span><br>                    collapse[<span class="hljs-number">2</span>][i] = sub[<span class="hljs-number">0</span>] + sub[<span class="hljs-number">1</span>]<br>                    collapse[<span class="hljs-number">3</span>][i] = sub[<span class="hljs-number">2</span>] + sub[<span class="hljs-number">3</span>]<br>                    <br>                <span class="hljs-keyword">else</span>:               <span class="hljs-comment">#[2,2,4,2] -&gt; [0,4,4,2]</span><br>                    collapse[<span class="hljs-number">0</span>][i] = <span class="hljs-number">0</span><br>                    collapse[<span class="hljs-number">1</span>][i] = sub[<span class="hljs-number">0</span>] *<span class="hljs-number">2</span><br>                    collapse[<span class="hljs-number">2</span>][i] = sub[<span class="hljs-number">2</span>]<br>                    collapse[<span class="hljs-number">3</span>][i] = sub[<span class="hljs-number">3</span>]<br>        <span class="hljs-keyword">if</span>  b :<br>                <br>                <span class="hljs-keyword">if</span> b <span class="hljs-keyword">and</span> c :        <span class="hljs-comment"># [4,2,2,2] -&gt; [0,4,2,4]</span><br>                    collapse[<span class="hljs-number">0</span>][i] = <span class="hljs-number">0</span><br>                    collapse[<span class="hljs-number">1</span>][i] = sub[<span class="hljs-number">0</span>]<br>                    collapse[<span class="hljs-number">2</span>][i] = sub[<span class="hljs-number">1</span>]<br>                    collapse[<span class="hljs-number">3</span>][i] = sub[<span class="hljs-number">2</span>] *<span class="hljs-number">2</span><br>                <br>                <span class="hljs-keyword">else</span>:               <span class="hljs-comment"># [4,2,2,4] -&gt; [0,4,4,4]</span><br>                    collapse[<span class="hljs-number">0</span>][i] = <span class="hljs-number">0</span><br>                    collapse[<span class="hljs-number">1</span>][i] = sub[<span class="hljs-number">0</span>]<br>                    collapse[<span class="hljs-number">2</span>][i] = sub[<span class="hljs-number">1</span>] *<span class="hljs-number">2</span><br>                    collapse[<span class="hljs-number">3</span>][i] = sub[<span class="hljs-number">3</span>]        <br>        <span class="hljs-keyword">if</span> c :                      <span class="hljs-comment">#[2,4,2,2] -&gt; [0,2,4,4]</span><br>                collapse[<span class="hljs-number">0</span>][i] = <span class="hljs-number">0</span><br>                collapse[<span class="hljs-number">1</span>][i] = sub[<span class="hljs-number">0</span>]<br>                collapse[<span class="hljs-number">2</span>][i] = sub[<span class="hljs-number">1</span>]<br>                collapse[<span class="hljs-number">3</span>][i] = sub[<span class="hljs-number">2</span>] *<span class="hljs-number">2</span><br>        <br>        <span class="hljs-keyword">if</span> d: <br>                collapse[<span class="hljs-number">0</span>][i] = sub[<span class="hljs-number">0</span>]<br>                collapse[<span class="hljs-number">1</span>][i] = sub[<span class="hljs-number">1</span>]<br>                collapse[<span class="hljs-number">2</span>][i] = sub[<span class="hljs-number">2</span>]<br>                collapse[<span class="hljs-number">3</span>][i] = sub[<span class="hljs-number">3</span>] <br>        <br>    display_array = collapse.astype(<span class="hljs-built_in">int</span>)    <span class="hljs-comment"># 转换为整型数组            # OK</span><br>    <span class="hljs-keyword">return</span> display_array<br>   <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">down_operate</span>(<span class="hljs-params">arr</span>):<br>        display_array = basic_operate(arr)<br>        <span class="hljs-keyword">return</span> display_array<br><span class="hljs-comment"># 用旋转数组的方法,实现其他三个方向的操作                                               </span><br><span class="hljs-keyword">def</span>  <span class="hljs-title function_">right_operate</span>(<span class="hljs-params">arr</span>):<br>        array  = np.rot90(arr, -<span class="hljs-number">1</span>)<br>        a = basic_operate(array)<br>        display_array = np.rot90(a,<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> display_array                       <br>    <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">up_operate</span>(<span class="hljs-params">arr</span>):<br>        array  = np.rot90(arr, -<span class="hljs-number">2</span>)<br>        a = basic_operate(array)<br>        display_array = np.rot90(a,<span class="hljs-number">2</span>)<br>        <span class="hljs-keyword">return</span> display_array<br>        <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">left_operate</span>(<span class="hljs-params">arr</span>):<br>        array  = np.rot90(arr, -<span class="hljs-number">3</span>)<br>        a = basic_operate(array)<br>        display_array = np.rot90(a,<span class="hljs-number">3</span>)<br>        <span class="hljs-keyword">return</span> display_array<br>                     <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">array_operate</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>        postions_row = rd.randint(<span class="hljs-number">0</span>,<span class="hljs-number">3</span>)<br>        postions_column = rd.randint(<span class="hljs-number">0</span>,<span class="hljs-number">3</span>)<br>        <br>        value = rd.choice(fixed_number)<br>        game_array[postions_row][postions_column] = value<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">check_avilable_position</span>():<br>   <br>    <span class="hljs-keyword">global</span> avilable_positions_array<br>    avilable_positions_array = np.zeros([<span class="hljs-number">4</span>,<span class="hljs-number">4</span>]) <br>    avilable_positions_array = np.argwhere(game_array==<span class="hljs-number">0</span>)<br>    <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">from_available_position_generate</span>():<br>    check_avilable_position()<br>    <span class="hljs-comment">##</span><br>    <span class="hljs-keyword">global</span> position<br>    shape = np.shape(avilable_positions_array)<br>    row_number = shape[<span class="hljs-number">0</span>] - <span class="hljs-number">1</span><br>    <span class="hljs-keyword">try</span>:<br>            <br>        position = rd.randint(<span class="hljs-number">0</span>,row_number)<br>        random_position_array = avilable_positions_array[position,:]<br>        value = rd.choice(fixed_number)<br>        game_array[random_position_array[<span class="hljs-number">0</span>]][random_position_array[<span class="hljs-number">1</span>]] = value<br><br>        v = <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">return</span> v    <span class="hljs-comment">#简单检查游戏状态</span><br>          <br>    <span class="hljs-keyword">except</span> ValueError <span class="hljs-keyword">or</span> IndexError:<br>        <br>        v = <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">return</span> v<br> <br> <span class="hljs-comment"># 这里是显示部分,GUI没做,用终端显示</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">clear_terminal</span>():<br>    os.system(<span class="hljs-string">&#x27;cls&#x27;</span> <span class="hljs-keyword">if</span> os.name == <span class="hljs-string">&#x27;nt&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;clear&#x27;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">update_terminal</span>(<span class="hljs-params">v</span>):<br>    clear_terminal()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;----------------&quot;</span>)<br>    <span class="hljs-keyword">for</span> i, row <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(game_array):<br>        <span class="hljs-comment"># 打印每一行的内容</span><br>        <span class="hljs-keyword">for</span> j, value <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(row):<br>            <span class="hljs-keyword">if</span> j &lt; <span class="hljs-built_in">len</span>(row) - <span class="hljs-number">1</span>:<br>                <span class="hljs-comment"># 打印数字，除了最后一列</span><br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot; <span class="hljs-subst">&#123;get_colored_char(value)&#125;</span> &quot;</span>, end=<span class="hljs-string">&quot;&quot;</span>)<br>            <span class="hljs-keyword">else</span>:<br><br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot; <span class="hljs-subst">&#123;get_colored_char(value)&#125;</span>&quot;</span>)<br>    <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;----------------&quot;</span>)<br>    <span class="hljs-keyword">if</span> v : <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;no space warning ! maybe you have died,press q to exit &quot;</span>)<br>    <span class="hljs-keyword">else</span>: <span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_colored_char</span>(<span class="hljs-params">value</span>):<br>    color = get_color(value)<br>    <span class="hljs-keyword">if</span> value != <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;\033[38;5;<span class="hljs-subst">&#123;color&#125;</span>m<span class="hljs-subst">&#123;value:<span class="hljs-number">2</span>&#125;</span>\033[0m&quot;</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;  &quot;</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_color</span>(<span class="hljs-params">value</span>):<br>    <span class="hljs-comment"># 根据不同的数字返回不同的颜色代码</span><br>    <span class="hljs-keyword">if</span> value == <span class="hljs-number">2</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">214</span><br>    <span class="hljs-keyword">elif</span> value == <span class="hljs-number">4</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">220</span><br>    <span class="hljs-keyword">elif</span> value == <span class="hljs-number">8</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">226</span><br>    <span class="hljs-keyword">elif</span> value == <span class="hljs-number">16</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">202</span><br>    <span class="hljs-keyword">elif</span> value == <span class="hljs-number">32</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">196</span><br>    <span class="hljs-keyword">elif</span> value == <span class="hljs-number">64</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">160</span><br>    <span class="hljs-keyword">elif</span> value == <span class="hljs-number">128</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">126</span><br>    <span class="hljs-keyword">elif</span> value == <span class="hljs-number">256</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">82</span><br>    <span class="hljs-keyword">elif</span> value == <span class="hljs-number">512</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">46</span><br>    <span class="hljs-keyword">elif</span> value == <span class="hljs-number">1024</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">27</span><br>    <span class="hljs-keyword">elif</span> value == <span class="hljs-number">2048</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">21</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">15</span>  <span class="hljs-comment"># 默认白色     玩到了4096再挑个颜色</span><br><br>    <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    array_operate(<span class="hljs-number">2</span>)<br>    <span class="hljs-keyword">global</span> game_array<br>    t = <span class="hljs-literal">False</span><br>    update_terminal(t)<br>    condition = <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">while</span> condition:<br><br>            <span class="hljs-keyword">if</span> keyboard.is_pressed(<span class="hljs-string">&quot;down&quot;</span>):   <span class="hljs-comment">#这里重复的函数太多,可以写一个函数再装一下</span><br>                game_array = down_operate(game_array)<br>                v = from_available_position_generate()<br>                update_terminal(v)<br>                sleep(<span class="hljs-number">0.43</span>)<br><br>            <span class="hljs-keyword">elif</span> keyboard.is_pressed(<span class="hljs-string">&quot;up&quot;</span>):<br>                game_array = up_operate(game_array)<br>                v = from_available_position_generate()<br>                update_terminal(v)<br>                sleep(<span class="hljs-number">0.43</span>)<br>            <span class="hljs-keyword">elif</span> keyboard.is_pressed(<span class="hljs-string">&quot;left&quot;</span>):<br>                game_array = left_operate(game_array)<br>                v = from_available_position_generate()<br>                update_terminal(v)    <br>                sleep(<span class="hljs-number">0.43</span>)<br>            <span class="hljs-keyword">elif</span> keyboard.is_pressed(<span class="hljs-string">&quot;right&quot;</span>):<br>                game_array = right_operate(game_array)<br>                v = from_available_position_generate()<br>                update_terminal(v)   <br>                sleep(<span class="hljs-number">0.43</span>)<br>            <span class="hljs-keyword">elif</span> keyboard.is_pressed(<span class="hljs-string">&quot;q&quot;</span>):<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Good game！&#x27;</span>)<br>                condition = <span class="hljs-literal">False</span><br><br>main()<br><br><br></code></pre></td></tr></table></figure><p>游戏的实现写的很粗糙,但终归还是能跑</p><h2 id="七选五全错的概率">七选五全错的概率</h2><p>七选五要求在7个备选答案中选出5个。</p><p>如果一个人随机选择,那么他一个都没撞对的概率是多少？</p><p>这是一个错位排列的问题，用数学方法计算十分繁琐，要求要对排列组合有很深的理解</p><p>用随机模拟的方法解决要简单一些</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> random <br><span class="hljs-comment"># 设置正确答案的值,随便设置一个列表</span><br>right_answer = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br><span class="hljs-comment">#模拟次数</span><br>n = <span class="hljs-number">100000</span><br><span class="hljs-comment">#初始化全错的样本数</span><br>b = <span class="hljs-number">0</span> <br><span class="hljs-comment">#模拟n次</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,n+<span class="hljs-number">1</span>):<br>    <span class="hljs-comment">#生成随机选择答案的列表</span><br>    random_list = random.sample(<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">8</span>),<span class="hljs-number">5</span>)<br>    <span class="hljs-built_in">print</span>(i/n)<span class="hljs-comment">#显示模拟进度</span><br>    <span class="hljs-comment">## 开始判断答案是否为全错,逐个判断对应位置的答案是否正确</span><br>    a = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,<span class="hljs-number">5</span>):<br>        <span class="hljs-keyword">if</span> random_list[t] == right_answer[t]:<br>            a += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>: <span class="hljs-keyword">pass</span><br>    <span class="hljs-comment">#如果都不对,那就符合要求</span><br>    <span class="hljs-keyword">if</span> a == <span class="hljs-number">0</span>:<br>        b += <span class="hljs-number">1</span><br><span class="hljs-comment">#计算并显示结果</span><br>result = b/n<br><span class="hljs-built_in">print</span>(result)<br><span class="hljs-comment">#为0.4828548.....结果大致是对的，增加模拟次数便可提高精度</span><br><br><br></code></pre></td></tr></table></figure><p>这样就很快的算完了,不论是几选几,我们都能快速得到答案</p><h2 id="求数列极限">求数列极限</h2><p>这道题来自于一次考试，常规做法是两边夹逼</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>求</mtext><munder><mrow><mi>lim</mi><mo>⁡</mo></mrow><mrow><mi>n</mi><mo>→</mo><mi mathvariant="normal">∞</mi></mrow></munder><mfrac><mi>n</mi><mrow><msup><mi>n</mi><mn>3</mn></msup><mo>+</mo><mn>1</mn></mrow></mfrac><mo>+</mo><mfrac><mrow><mn>2</mn><mi>n</mi></mrow><mrow><msup><mi>n</mi><mn>3</mn></msup><mo>+</mo><msup><mn>2</mn><mn>2</mn></msup></mrow></mfrac><mo>+</mo><mfrac><mrow><mn>3</mn><mi>n</mi></mrow><mrow><msup><mi>n</mi><mn>3</mn></msup><mo>+</mo><msup><mn>3</mn><mn>2</mn></msup></mrow></mfrac><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><mfrac><msup><mi>n</mi><mn>2</mn></msup><mrow><msup><mi>n</mi><mn>3</mn></msup><mo>+</mo><msup><mi>n</mi><mn>2</mn></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">求\lim_{n \to \infty} \dfrac{n}{n^3+1}+\dfrac{2n}{n^3+2^2}+\dfrac{3n}{n^3+3^2}+...+\dfrac{n^2}{n^3+n^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.8769em;vertical-align:-0.7693em;"></span><span class="mord cjk_fallback">求</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.4em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mrel mtight">→</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">lim</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0908em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0908em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.2604em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>观察到每一项都可以写成</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi>n</mi><mi>x</mi></mrow><mrow><msup><mi>n</mi><mn>3</mn></msup><mo>+</mo><msup><mi>x</mi><mn>2</mn></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\dfrac{nx}{n^3+x^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.8769em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>那就可以硬算</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> math<br><span class="hljs-comment">#设置数列项数和初始值</span><br>n = <span class="hljs-number">100</span><br>init_value = <span class="hljs-number">0.0</span><br><br><span class="hljs-comment">#数列每一项的通项</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">Xn</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> (x*n)/(n**<span class="hljs-number">3</span>+x**<span class="hljs-number">2</span>)<br><br><span class="hljs-comment">#生成数列</span><br>sequences = (Xn(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span> (<span class="hljs-number">1</span>,n+<span class="hljs-number">1</span>) )<br><br><span class="hljs-comment">#使用fsum函数求和,fsum 函数可以减小浮点差</span><br>limit = math.fsum(sequences)<br><br><span class="hljs-comment">#打印结果,显示为0.5</span><br><span class="hljs-built_in">print</span>(limit)<br><br></code></pre></td></tr></table></figure><h2 id="学习通脚本">学习通脚本</h2><p>写了一个python脚本用于打开学习通网页，配合油猴脚本可以实现自动刷网课的功能</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-string">&quot;&quot;&quot;需要安装selenium模块及webdriver驱动&quot;&quot;&quot;</span><br><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><br><span class="hljs-comment">#添加配置，使chrome保留数据打开</span><br>options = webdriver.ChromeOptions()<br><span class="hljs-comment">#</span><br>options.add_argument(<br>    <span class="hljs-string">r&quot;--user-data-dir=C:\Users\1\AppData\Local\Google\Chrome\User Data\Default&quot;</span><span class="hljs-comment">#这里需要填chrome的用户默认配置目录</span><br>)<br><span class="hljs-comment">#保持打开状态</span><br>options.add_experimental_option(<span class="hljs-string">&quot;detach&quot;</span>, <span class="hljs-literal">True</span>)<br><span class="hljs-comment"># 启动浏览器</span><br>browser = webdriver.Chrome(options=options)<br><span class="hljs-comment">#最大化窗口</span><br>browser.maximize_window()<br><span class="hljs-comment">#稍微等待</span><br>sleep(<span class="hljs-number">1</span>)<br><span class="hljs-comment">#输入网址</span><br>url = <span class="hljs-string">&quot;exampleURL&quot;</span><span class="hljs-comment">#输入网址</span><br>browser.get(url)<span class="hljs-comment"># 启动</span><br><br></code></pre></td></tr></table></figure><p>当然这段代码只能打开单个网址，没啥用<br>观察到脚本是用js写的，代码行数达到了惊人的13600行，附上脚本网址<br><a href="https://docs.ocsjs.com/">https://docs.ocsjs.com/</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>code_learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>随笔</title>
    <link href="/2023/10/29/post/"/>
    <url>/2023/10/29/post/</url>
    
    <content type="html"><![CDATA[<p>人间忽晚，山河渐秋。</p>]]></content>
    
    
    
    <tags>
      
      <tag>life_record</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
